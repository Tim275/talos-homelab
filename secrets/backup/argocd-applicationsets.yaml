apiVersion: v1
items:
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: backup:argoproj.io/ApplicationSet:argocd/backup
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{"argocd.argoproj.io/tracking-id":"backup:argoproj.io/ApplicationSet:argocd/backup"},"labels":{"app.kubernetes.io/managed-by":"argocd","argocd.argoproj.io/instance":"backup","dev.stonegarden":"backup"},"name":"backup","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/backup/*"},{"exclude":true,"path":"kubernetes/infra/backup/application-set.yaml"},{"exclude":true,"path":"kubernetes/infra/backup/project.yaml"},{"exclude":true,"path":"kubernetes/infra/backup/kustomization.yaml"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"labels":{"dev.stonegarden":"backup"},"name":"{{ path.basename }}"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"backup","source":{"path":"{{ path }}","plugin":{"name":"kustomize-build-with-helm"},"repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["ServerSideApply=true","CreateNamespace=true"]}}}}}
    creationTimestamp: "2025-08-23T22:46:33Z"
    generation: 2
    labels:
      app.kubernetes.io/managed-by: argocd
      argocd.argoproj.io/instance: backup
      dev.stonegarden: backup
    name: backup
    namespace: argocd
    resourceVersion: "35865"
    uid: ac8a1d6f-da24-480e-8d64-7f4dd36f1970
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/backup/*
        - exclude: true
          path: kubernetes/infra/backup/application-set.yaml
        - exclude: true
          path: kubernetes/infra/backup/project.yaml
        - exclude: true
          path: kubernetes/infra/backup/kustomization.yaml
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        labels:
          dev.stonegarden: backup
        name: '{{ path.basename }}'
      spec:
        destination:
          server: https://kubernetes.default.svc
        project: backup
        source:
          path: '{{ path }}'
          plugin:
            name: kustomize-build-with-helm
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
          syncOptions:
          - ServerSideApply=true
          - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2025-08-23T22:46:34Z"
      message: Successfully generated parameters for all Applications
      reason: ApplicationSetUpToDate
      status: "False"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-23T22:46:34Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-23T22:46:34Z"
      message: ApplicationSet up to date
      reason: ApplicationSetUpToDate
      status: "True"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T23:32:35Z"
        status: Healthy
      kind: Application
      name: velero
      namespace: argocd
      status: Synced
      version: v1alpha1
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: controllers:argoproj.io/ApplicationSet:argocd/controllers
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{"argocd.argoproj.io/tracking-id":"controllers:argoproj.io/ApplicationSet:argocd/controllers"},"labels":{"app.kubernetes.io/managed-by":"argocd","argocd.argoproj.io/instance":"controllers","dev.stonegarden":"controllers"},"name":"controllers","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/controllers/*"},{"exclude":true,"path":"kubernetes/infra/controllers/application-set.yaml"},{"exclude":true,"path":"kubernetes/infra/controllers/project.yaml"},{"exclude":true,"path":"kubernetes/infra/controllers/kustomization.yaml"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"labels":{"dev.stonegarden":"controllers"},"name":"{{ path.basename }}"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"controllers","source":{"path":"{{ path }}","plugin":{"name":"kustomize-build-with-helm"},"repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["ServerSideApply=true","CreateNamespace=true"]}}}}}
    creationTimestamp: "2025-08-23T22:46:32Z"
    generation: 3
    labels:
      app.kubernetes.io/managed-by: argocd
      argocd.argoproj.io/instance: controllers
      dev.stonegarden: controllers
    name: controllers
    namespace: argocd
    resourceVersion: "371447"
    uid: 7409f843-21b6-414f-9099-18639a86bf80
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/controllers/*
        - exclude: true
          path: kubernetes/infra/controllers/application-set.yaml
        - exclude: true
          path: kubernetes/infra/controllers/project.yaml
        - exclude: true
          path: kubernetes/infra/controllers/kustomization.yaml
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        labels:
          dev.stonegarden: controllers
        name: '{{ path.basename }}'
      spec:
        destination:
          server: https://kubernetes.default.svc
        project: controllers
        source:
          path: '{{ path }}'
          plugin:
            name: kustomize-build-with-helm
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
          syncOptions:
          - ServerSideApply=true
          - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2025-08-23T22:49:33Z"
      message: Successfully generated parameters for all Applications
      reason: ApplicationSetUpToDate
      status: "False"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-23T22:49:33Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-23T22:49:33Z"
      message: ApplicationSet up to date
      reason: ApplicationSetUpToDate
      status: "True"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T11:06:53Z"
        status: Healthy
      kind: Application
      name: argocd
      namespace: argocd
      status: OutOfSync
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T00:27:23Z"
        status: Degraded
      kind: Application
      name: cert-manager
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T23:06:01Z"
        status: Healthy
      kind: Application
      name: sealed-secrets
      namespace: argocd
      status: Synced
      version: v1alpha1
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{},"labels":{"dev.stonegarden":"infrastructure"},"name":"infrastructure","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/storage"},{"path":"kubernetes/infra/controllers"},{"path":"kubernetes/infra/monitoring"},{"path":"kubernetes/infra/network"},{"path":"kubernetes/infra/backup"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"labels":{"dev.stonegarden":"infrastructure"},"name":"{{ path.basename }}"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"app-of-apps","source":{"path":"{{ path }}","repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true}}}}}}
    creationTimestamp: "2025-08-23T22:42:10Z"
    generation: 1
    labels:
      dev.stonegarden: infrastructure
    name: infrastructure
    namespace: argocd
    resourceVersion: "135005"
    uid: c764ad83-5017-4ea7-b750-855da8ae42d1
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/storage
        - path: kubernetes/infra/controllers
        - path: kubernetes/infra/monitoring
        - path: kubernetes/infra/network
        - path: kubernetes/infra/backup
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        labels:
          dev.stonegarden: infrastructure
        name: '{{ path.basename }}'
      spec:
        destination:
          server: https://kubernetes.default.svc
        project: app-of-apps
        source:
          path: '{{ path }}'
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
  status:
    conditions:
    - lastTransitionTime: "2025-08-23T22:46:30Z"
      message: Successfully generated parameters for all Applications
      reason: ApplicationSetUpToDate
      status: "False"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-23T22:46:30Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-23T22:46:30Z"
      message: ApplicationSet up to date
      reason: ApplicationSetUpToDate
      status: "True"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:46:37Z"
        status: Healthy
      kind: Application
      name: backup
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:49:34Z"
        status: Healthy
      kind: Application
      name: controllers
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:49:40Z"
        status: Healthy
      kind: Application
      name: monitoring
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T00:40:49Z"
        status: Degraded
      kind: Application
      name: network
      namespace: argocd
      status: OutOfSync
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:46:37Z"
        status: Healthy
      kind: Application
      name: storage
      namespace: argocd
      status: Synced
      version: v1alpha1
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: monitoring:argoproj.io/ApplicationSet:argocd/monitoring
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{"argocd.argoproj.io/tracking-id":"monitoring:argoproj.io/ApplicationSet:argocd/monitoring"},"labels":{"app.kubernetes.io/managed-by":"argocd","argocd.argoproj.io/instance":"monitoring","dev.stonegarden":"monitoring"},"name":"monitoring","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/monitoring/*"},{"exclude":true,"path":"kubernetes/infra/monitoring/application-set.yaml"},{"exclude":true,"path":"kubernetes/infra/monitoring/project.yaml"},{"exclude":true,"path":"kubernetes/infra/monitoring/kustomization.yaml"},{"exclude":true,"path":"kubernetes/infra/monitoring/ns.yaml"},{"exclude":true,"path":"kubernetes/infra/monitoring/README.md"},{"exclude":true,"path":"kubernetes/infra/monitoring/_alert-rules-tests"},{"exclude":true,"path":"kubernetes/infra/monitoring/prometheus-operator-crds.yaml"},{"exclude":true,"path":"kubernetes/infra/monitoring/loki"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"labels":{"dev.stonegarden":"monitoring"},"name":"monitoring-{{ path.basename }}"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"monitoring","source":{"path":"{{ path }}","plugin":{"name":"kustomize-build-with-helm"},"repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["ServerSideApply=true","CreateNamespace=true"]}}}}}
    creationTimestamp: "2025-08-23T22:46:35Z"
    generation: 3
    labels:
      app.kubernetes.io/managed-by: argocd
      argocd.argoproj.io/instance: monitoring
      dev.stonegarden: monitoring
    name: monitoring
    namespace: argocd
    resourceVersion: "402850"
    uid: 0169b4b5-441a-4418-b835-2a34449790b3
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/monitoring/*
        - exclude: true
          path: kubernetes/infra/monitoring/application-set.yaml
        - exclude: true
          path: kubernetes/infra/monitoring/project.yaml
        - exclude: true
          path: kubernetes/infra/monitoring/kustomization.yaml
        - exclude: true
          path: kubernetes/infra/monitoring/ns.yaml
        - exclude: true
          path: kubernetes/infra/monitoring/README.md
        - exclude: true
          path: kubernetes/infra/monitoring/_alert-rules-tests
        - exclude: true
          path: kubernetes/infra/monitoring/prometheus-operator-crds.yaml
        - exclude: true
          path: kubernetes/infra/monitoring/loki
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        labels:
          dev.stonegarden: monitoring
        name: monitoring-{{ path.basename }}
      spec:
        destination:
          server: https://kubernetes.default.svc
        project: monitoring
        source:
          path: '{{ path }}'
          plugin:
            name: kustomize-build-with-helm
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
          syncOptions:
          - ServerSideApply=true
          - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2025-08-23T22:49:37Z"
      message: Successfully generated parameters for all Applications
      reason: ApplicationSetUpToDate
      status: "False"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-23T22:49:37Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-23T22:49:37Z"
      message: ApplicationSet up to date
      reason: ApplicationSetUpToDate
      status: "True"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:49:41Z"
        status: Healthy
      kind: Application
      name: monitoring-alert-rules-grafana
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T11:49:29Z"
        status: Degraded
      kind: Application
      name: monitoring-grafana
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:49:40Z"
        status: Healthy
      kind: Application
      name: monitoring-hubble
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T23:10:57Z"
        status: Healthy
      kind: Application
      name: monitoring-jaeger
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T23:00:29Z"
        status: Healthy
      kind: Application
      name: monitoring-metrics-server
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T12:03:51Z"
        status: Degraded
      kind: Application
      name: monitoring-prometheus
      namespace: argocd
      status: Synced
      version: v1alpha1
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: network:argoproj.io/ApplicationSet:argocd/network
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{"argocd.argoproj.io/tracking-id":"network:argoproj.io/ApplicationSet:argocd/network"},"labels":{"app.kubernetes.io/managed-by":"argocd","argocd.argoproj.io/instance":"network","dev.stonegarden":"network"},"name":"network","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/network/*"},{"exclude":true,"path":"kubernetes/infra/network/application-set.yaml"},{"exclude":true,"path":"kubernetes/infra/network/project.yaml"},{"exclude":true,"path":"kubernetes/infra/network/kustomization.yaml"},{"exclude":true,"path":"kubernetes/infra/network/kube-vip"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"labels":{"dev.stonegarden":"network"},"name":"{{ path.basename }}"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"network","source":{"path":"{{ path }}","plugin":{"name":"kustomize-build-with-helm"},"repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["ServerSideApply=true","CreateNamespace=true"]}}}}}
    creationTimestamp: "2025-08-23T22:46:40Z"
    generation: 5
    labels:
      app.kubernetes.io/managed-by: argocd
      argocd.argoproj.io/instance: network
      dev.stonegarden: network
    name: network
    namespace: argocd
    resourceVersion: "365286"
    uid: 3ba2f37c-289e-4d02-bc62-e7047aeba2f5
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/network/*
        - exclude: true
          path: kubernetes/infra/network/application-set.yaml
        - exclude: true
          path: kubernetes/infra/network/project.yaml
        - exclude: true
          path: kubernetes/infra/network/kustomization.yaml
        - exclude: true
          path: kubernetes/infra/network/kube-vip
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        labels:
          dev.stonegarden: network
        name: '{{ path.basename }}'
      spec:
        destination:
          server: https://kubernetes.default.svc
        project: network
        source:
          path: '{{ path }}'
          plugin:
            name: kustomize-build-with-helm
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
          syncOptions:
          - ServerSideApply=true
          - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2025-08-24T00:52:20Z"
      message: 'error while wrapping using MutateFn: Object argocd/cert-manager is
        already owned by another ApplicationSet controller controllers'
      reason: UpdateApplicationError
      status: "True"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-24T00:52:20Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-24T00:52:20Z"
      message: 'error while wrapping using MutateFn: Object argocd/cert-manager is
        already owned by another ApplicationSet controller controllers'
      reason: UpdateApplicationError
      status: "False"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T23:10:52Z"
        status: Healthy
      kind: Application
      name: cilium
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T23:28:07Z"
        status: Healthy
      kind: Application
      name: cloudflared
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T10:45:42Z"
        status: Progressing
      kind: Application
      name: gateway
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T02:43:29Z"
        status: Healthy
      kind: Application
      name: kube-vip
      namespace: argocd
      status: Synced
      version: v1alpha1
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{},"labels":{"app.kubernetes.io/managed-by":"argocd"},"name":"observability","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/observability/*"},{"exclude":true,"path":"kubernetes/infra/observability/application-set.yaml"},{"exclude":true,"path":"kubernetes/infra/observability/project.yaml"},{"exclude":true,"path":"kubernetes/infra/observability/kustomization.yaml"},{"exclude":true,"path":"kubernetes/infra/observability/ns.yaml"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"annotations":{"argocd.argoproj.io/sync-wave":"3"},"name":"observability-{{path.basename}}","namespace":"argocd"},"spec":{"destination":{"namespace":"observability","server":"https://kubernetes.default.svc"},"project":"observability","source":{"path":"{{path}}","repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["ServerSideApply=true","CreateNamespace=true"]}}}}}
    creationTimestamp: "2025-08-23T22:41:57Z"
    generation: 1
    labels:
      app.kubernetes.io/managed-by: argocd
    name: observability
    namespace: argocd
    resourceVersion: "9910"
    uid: fe861733-e85e-457e-8cba-290fe1764f74
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/observability/*
        - exclude: true
          path: kubernetes/infra/observability/application-set.yaml
        - exclude: true
          path: kubernetes/infra/observability/project.yaml
        - exclude: true
          path: kubernetes/infra/observability/kustomization.yaml
        - exclude: true
          path: kubernetes/infra/observability/ns.yaml
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        annotations:
          argocd.argoproj.io/sync-wave: "3"
        name: observability-{{path.basename}}
        namespace: argocd
      spec:
        destination:
          namespace: observability
          server: https://kubernetes.default.svc
        project: observability
        source:
          path: '{{path}}'
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
          syncOptions:
          - ServerSideApply=true
          - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2025-08-23T22:46:30Z"
      message: Successfully generated parameters for all Applications
      reason: ApplicationSetUpToDate
      status: "False"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-23T22:46:30Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-23T22:46:30Z"
      message: ApplicationSet up to date
      reason: ApplicationSetUpToDate
      status: "True"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-23T22:46:31Z"
        status: Healthy
      kind: Application
      name: observability-opentelemetry
      namespace: argocd
      status: Unknown
      version: v1alpha1
- apiVersion: argoproj.io/v1alpha1
  kind: ApplicationSet
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: storage:argoproj.io/ApplicationSet:argocd/storage
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"annotations":{"argocd.argoproj.io/tracking-id":"storage:argoproj.io/ApplicationSet:argocd/storage"},"labels":{"app.kubernetes.io/managed-by":"argocd","argocd.argoproj.io/instance":"storage","dev.stonegarden":"storage"},"name":"storage","namespace":"argocd"},"spec":{"generators":[{"git":{"directories":[{"path":"kubernetes/infra/storage/*"},{"exclude":true,"path":"kubernetes/infra/storage/application-set.yaml"},{"exclude":true,"path":"kubernetes/infra/storage/project.yaml"},{"exclude":true,"path":"kubernetes/infra/storage/kustomization.yaml"},{"exclude":true,"path":"kubernetes/infra/storage/rook-ceph"},{"exclude":true,"path":"kubernetes/infra/storage/rook-ceph-rgw"},{"exclude":true,"path":"kubernetes/infra/storage/longhorn"},{"exclude":true,"path":"kubernetes/infra/storage/minio"}],"repoURL":"https://github.com/Tim275/talos-homelab","revision":"HEAD"}}],"template":{"metadata":{"labels":{"dev.stonegarden":"storage"},"name":"storage-{{ path.basename }}"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"storage","source":{"path":"{{ path }}","plugin":{"name":"kustomize-build-with-helm"},"repoURL":"https://github.com/Tim275/talos-homelab","targetRevision":"HEAD"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["ServerSideApply=true","CreateNamespace=true"]}}}}}
    creationTimestamp: "2025-08-23T22:46:33Z"
    generation: 4
    labels:
      app.kubernetes.io/managed-by: argocd
      argocd.argoproj.io/instance: storage
      dev.stonegarden: storage
    name: storage
    namespace: argocd
    resourceVersion: "386505"
    uid: 31f01a56-f070-465a-bdeb-a4a3579d6f7c
  spec:
    generators:
    - git:
        directories:
        - path: kubernetes/infra/storage/*
        - exclude: true
          path: kubernetes/infra/storage/application-set.yaml
        - exclude: true
          path: kubernetes/infra/storage/project.yaml
        - exclude: true
          path: kubernetes/infra/storage/kustomization.yaml
        - exclude: true
          path: kubernetes/infra/storage/rook-ceph
        - exclude: true
          path: kubernetes/infra/storage/rook-ceph-rgw
        - exclude: true
          path: kubernetes/infra/storage/longhorn
        - exclude: true
          path: kubernetes/infra/storage/minio
        repoURL: https://github.com/Tim275/talos-homelab
        revision: HEAD
    template:
      metadata:
        labels:
          dev.stonegarden: storage
        name: storage-{{ path.basename }}
      spec:
        destination:
          server: https://kubernetes.default.svc
        project: storage
        source:
          path: '{{ path }}'
          plugin:
            name: kustomize-build-with-helm
          repoURL: https://github.com/Tim275/talos-homelab
          targetRevision: HEAD
        syncPolicy:
          automated:
            prune: true
            selfHeal: true
          syncOptions:
          - ServerSideApply=true
          - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2025-08-23T22:46:35Z"
      message: Successfully generated parameters for all Applications
      reason: ApplicationSetUpToDate
      status: "False"
      type: ErrorOccurred
    - lastTransitionTime: "2025-08-23T22:46:35Z"
      message: Successfully generated parameters for all Applications
      reason: ParametersGenerated
      status: "True"
      type: ParametersGenerated
    - lastTransitionTime: "2025-08-23T22:46:35Z"
      message: ApplicationSet up to date
      reason: ApplicationSetUpToDate
      status: "True"
      type: ResourcesUpToDate
    resources:
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T11:29:02Z"
        status: Missing
      kind: Application
      name: storage-longhorn
      namespace: argocd
      status: OutOfSync
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T00:24:52Z"
        status: Healthy
      kind: Application
      name: storage-proxmox-csi
      namespace: argocd
      status: Synced
      version: v1alpha1
    - group: argoproj.io
      health:
        lastTransitionTime: "2025-08-24T11:07:17Z"
        status: Missing
      kind: Application
      name: storage-rook-ceph
      namespace: argocd
      status: OutOfSync
      version: v1alpha1
kind: List
metadata:
  resourceVersion: ""
