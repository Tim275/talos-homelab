apiVersion: v1
kind: ConfigMap
metadata:
  name: quantlab-config
  namespace: quantlab
data:
  # Zipline bundle configuration
  zipline-config.yaml: |
    bundles:
      quandl:
        api_key: null
      yahoo:
        enabled: true
      binance:
        enabled: true
        api_key: ""
        secret: ""
    
    # Database connections
    databases:
      postgresql:
        url: "postgresql://quantlab:quantlab123@postgres-cluster-rw.databases:5432/quantlab"
      influxdb:
        host: "influxdb.influxdb"
        port: 8086
        database: "market_data"
        
  # Strategy configuration
  strategies.yaml: |
    strategies:
      statistical_arbitrage:
        enabled: true
        allocation: 0.40
        pairs:
          - ["BTC/USDT", "ETH/USDT"]
          - ["ADA/USDT", "SOL/USDT"]
        lookback_period: 252
        entry_threshold: 2.0
        exit_threshold: 0.5
        
      momentum:
        enabled: true
        allocation: 0.35
        assets: ["BTC/USDT", "ETH/USDT", "ADA/USDT"]
        lookback_period: 20
        rebalance_frequency: "weekly"
        
      mean_reversion:
        enabled: true
        allocation: 0.25
        assets: ["BTC/USDT", "ETH/USDT"]
        lookback_period: 50
        bollinger_period: 20
        std_dev: 2.0
        
  # Market data sources
  data-sources.yaml: |
    sources:
      alpha_vantage:
        api_key: "YOUR_ALPHA_VANTAGE_KEY"
        rate_limit: 5  # calls per minute
        
      binance:
        api_key: ""
        secret: ""
        testnet: true
        
      iex_cloud:
        api_key: "YOUR_IEX_KEY"
        version: "stable"