apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 📱 APPLICATIONS LAYER - TRUE ENTERPRISE TIER-0
# ===============================================
# Netflix/Google/Amazon Pattern: Pure Kustomize Control auf allen 3 Ebenen
# SPECIAL: Apps layer uses base + overlays pattern für environment management

# 🏢 Enterprise Application Labels
labels:
  - pairs:
      app.kubernetes.io/managed-by: argocd
      app.kubernetes.io/part-of: timour-homelab
      app.kubernetes.io/layer: applications
      enterprise.pattern: direct-domains
      team: timour

# 🌊 Sync Wave 25: Applications Layer (After Platform)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "25"
  enterprise.architecture: "true"
  gitops.pattern: "direct-domain-control"

resources:
  # 🎯 TIER-2 DOMAIN CONTROL - PURE KUSTOMIZE PATTERN!
  # =================================================
  # Comment/Uncomment domains to enable/disable entire application domains
  # Each domain contains its own kustomization.yaml with component control

  # 📱 Base Domain - Application Templates and Base Configurations
  - base/

  # 🌍 Environments Domain - Environment-specific Application Deployments
  # - overlays/          # ❌ DISABLED - Focus on base applications first

  # 🎛️ TIER-3 COMPONENT CONTROL - PURE KUSTOMIZE!
  # ==============================================
  # Each domain directory contains its own kustomization.yaml with component control:
  # - base/kustomization.yaml manages core application templates
  # - overlays/kustomization.yaml manages environment-specific deployments
  #
  # 💡 PURE KUSTOMIZE CONTROL: Comment/uncomment resources in domain files!