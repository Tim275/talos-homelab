apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üåä Sync Wave 25: Production Applications
commonAnnotations:
  argocd.argoproj.io/sync-wave: "25"

namespace: audiobookshelf-prod

# üè≠ Production Audiobookshelf - Enterprise Media Platform

helmCharts:
  - name: audiobookshelf
    repo: https://gitlab.com/api/v4/projects/57546317/packages/helm/release
    version: 0.0.2-nightly.24
    releaseName: audiobookshelf
    namespace: audiobookshelf-prod
    valuesFile: values.yaml

resources:
- namespace.yaml
- pvc.yaml
- backup-patch.yaml

commonLabels:
  app.kubernetes.io/name: audiobookshelf
  environment: production
  team: timour

# Optional Enterprise Labels (commented out)
# labels:
#   - pairs:
#       service.timourhomelab.dev/tier: "tier-3"
#       service.timourhomelab.dev/environment: "production"