apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: n8n-prod

resources:
  # - namespace.yaml     # ‚ùå REMOVED - Platform creates namespace via CNPG
  - secret.yaml
  - deployment.yaml
  - service.yaml
  - configmap.yaml
  - pvc.yaml
  - httproute.yaml

commonLabels:
  app.kubernetes.io/name: n8n
  environment: production
  team: timour

# üìä MONITORING CONFIGURATION
# Add Prometheus monitoring labels to N8N services
patches:
  - path: ../../monitoring-patch.yaml
    target:
      kind: Service
      version: v1
