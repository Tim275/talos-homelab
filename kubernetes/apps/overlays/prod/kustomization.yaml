apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸš€ APPS PROD ENVIRONMENT - COMPONENT CONTROL
# =============================================
# Comment/Uncomment lines to enable/disable production environment apps
# Uncommented = âœ… DEPLOYED | Commented = âŒ DISABLED

resources:
  # ğŸ¯ CHILD APPLICATIONS - APPEAR IN ARGOCD UI
  # ===========================================
  - audiobookshelf/application.yaml
  - kafka-demo/application.yaml
  - n8n/application.yaml

  # ğŸ¯ COMPONENTS - KUSTOMIZE CONTROL
  # ==================================
  # ğŸµ Media & Content (Prod)
  - audiobookshelf/                   # âœ… Audiobook Server (Production)

  # ğŸ”„ Workflow Automation (Prod)
  - n8n/                              # âœ… N8N Workflow Automation (Production w/ Rollouts)

  # ğŸ“Š Development & Testing (Prod - Limited)
  # - kafka-demo/                     # âŒ DISABLED - Demo apps not in production

  # ğŸ“ˆ Analytics & Monitoring (Prod Only)
  # - analytics-dashboard/            # âŒ DISABLED - Production analytics

  # ğŸ”’ Security & Compliance (Prod Only)
  # - security-scanner/               # âŒ DISABLED - Production security scanning

# ğŸ¢ Domain Labels
labels:
  - pairs:
      app.kubernetes.io/managed-by: argocd
      app.kubernetes.io/part-of: timour-homelab
      app.kubernetes.io/domain: environments
      app.kubernetes.io/layer: apps
      app.kubernetes.io/environment: prod
      team: timour

# ğŸ“Š Domain Annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "26"
  enterprise.domain: "apps-environments"
  enterprise.environment: "production"
  gitops.control: "kustomize-component-level"