apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization


#  : Production Environment Overlay
namespace: audiobookshelf-prod

# üìÅ Base Reference
resources:
  - ../../../base/audiobookshelf/environments/production

# Production-Specific Labels
labels:
  - pairs:
      app.kubernetes.io/environment: prod
      app.kubernetes.io/managed-by: argocd
      team: timour
      criticality: high

# Production Environment Patches
patches:
  - path: prod-resources.yaml
    target:
      kind: Deployment
      name: audiobookshelf

#  Production annotations
commonAnnotations:
  environment: production
  auto-sync: "false"  # Manual approval for prod
  backup.enabled: "true"