apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Granular Prometheus Component Control
# Deploy only Prometheus without other monitoring components

metadata:
  name: prometheus-component
  annotations:
    platform.config/component: "prometheus"
    platform.config/description: "Prometheus monitoring server"

resources:
  # Point to the actual Prometheus implementation
  - ../../../../../infra/monitoring/prometheus

patches:
  # Reduce resource consumption for homelab stability
  - resource-limits-patch.yaml

labels:
  - pairs:
      component: prometheus
      deployment-method: granular-kustomize