apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# OIDC User RBAC Mappings
# Security Layer: Authorization policies for OIDC authenticated users

commonAnnotations:
  argocd.argoproj.io/sync-wave: "0"

commonLabels:
  security.layer: rbac
  auth.type: oidc

resources:
  # Individual User Bindings
  - tim275-cluster-admin.yaml  # OIDC user tim275 → cluster-admin

  # Group-Based Bindings (Recommended)
  - admins-group-binding.yaml  # LDAP group "admins" → cluster-admin

  # Future: Add more granular roles
  # - developers-group-edit.yaml    # LDAP group "developers" → edit role
  # - readonly-group-view.yaml      # LDAP group "readonly" → view role
  # - namespace-admins.yaml         # LDAP group → namespace-specific admin
