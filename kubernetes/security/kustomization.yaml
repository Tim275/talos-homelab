apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸ›¡ï¸ SECURITY LAYER - TRUE ENTERPRISE TIER-0
# ===========================================
# Netflix/Google/Amazon Pattern: Pure Kustomize Control auf allen 3 Ebenen
# Zero Trust Foundation fÃ¼r Enterprise Kubernetes

# ğŸ¢ Enterprise Security Labels
labels:
  - pairs:
      app.kubernetes.io/managed-by: argocd
      app.kubernetes.io/part-of: timour-homelab
      app.kubernetes.io/layer: security
      enterprise.pattern: direct-domains
      team: timour

# ğŸŒŠ Sync Wave 0: Security Foundation (Before Everything)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "0"
  enterprise.architecture: "true"
  gitops.pattern: "direct-domain-control"

resources:
  # ğŸ›ï¸ SECURITY PROJECT
  - project.yaml

  # ğŸ¯ TIER-2 DOMAIN CONTROL - PURE KUSTOMIZE PATTERN!
  # =================================================
  # Comment/Uncomment domains to enable/disable entire security domains
  # Each domain contains its own kustomization.yaml with component control

  # ğŸ›¡ï¸ Foundation Domain - RBAC, Pod Security, Network Policies
  - foundation/

  # ğŸ“‹ Governance Domain - Policy Engines, Compliance, Audit (Future)
  # - governance/        # âŒ DISABLED - Not implemented yet

  # ğŸ›ï¸ TIER-3 COMPONENT CONTROL - PURE KUSTOMIZE!
  # ==============================================
  # Each domain directory contains its own kustomization.yaml with component control:
  # - foundation/kustomization.yaml manages rbac, pod-security, network-policies
  # - governance/kustomization.yaml manages policy engines, compliance tools
  #
  # ğŸ’¡ PURE KUSTOMIZE CONTROL: Comment/uncomment resources in domain files!