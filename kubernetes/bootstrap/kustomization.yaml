apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üöÄ 2025 ENTERPRISE BOOTSTRAP - App-of-Apps Pattern
# ==================================================
# Single entry point for complete GitOps architecture

commonLabels:
  app.kubernetes.io/managed-by: argocd
  enterprise.pattern: bootstrap-app-of-apps

# üåä Sync Wave 0: Bootstrap Applications
commonAnnotations:
  argocd.argoproj.io/sync-wave: "0"

resources:
  # üéØ BOOTSTRAP CONTROL - COMMENT/UNCOMMENT = ENABLE/DISABLE!
  # =========================================================

  # ‚úÖ ENABLED BOOTSTRAP APPLICATIONS
  - security.yaml          # Wave 0: Security ApplicationSets (Zero Trust Foundation)
  - infrastructure.yaml    # Wave 1: Infrastructure ApplicationSets
  - platform.yaml         # Wave 15: Platform ApplicationSets
  # - apps.yaml             # Wave 25: Apps ApplicationSets (disabled for now)

  # ‚ùå DISABLED BOOTSTRAP APPLICATIONS (comment out to disable)
  # - legacy-apps.yaml     # ‚ùå DISABLED - Apps layer not ready yet