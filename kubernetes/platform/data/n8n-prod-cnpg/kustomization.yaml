apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization


# üåä Sync Wave 12: Database Clusters (After Operators)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "12"

resources:
  - namespace.yaml
  - credentials-secret.yaml
  # - backup-s3-credentials.yaml  # ‚ö†Ô∏è DISABLED: Barman backup disabled due to Ceph RGW SSL cert issues
  - cluster.yaml  # Cluster without Barman backup (using Velero instead)
  # - cluster-with-wal.yaml  # ‚ö†Ô∏è OPTIONAL: Enable for Point-in-Time Recovery (PITR)
  # - scheduled-backup.yaml  # ‚ö†Ô∏è DISABLED: Requires backup section in cluster.yaml
  # CloudBeaver is now a separate platform component for database administration

labels:
  - pairs:
      app.kubernetes.io/part-of: n8n-data
