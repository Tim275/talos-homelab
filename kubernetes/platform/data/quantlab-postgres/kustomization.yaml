apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ðŸŒŠ Sync Wave 12: Database Clusters (PostgreSQL instance)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "12"

# Professional PostgreSQL Database for Trading System
# CloudNative-PG Operator with Helm Chart

helmCharts:
  - name: cloudnative-pg
    repo: https://cloudnative-pg.github.io/charts
    version: 0.26.0
    releaseName: quantlab-postgres
    namespace: quantlab-postgres
    valuesFile: postgres-values.yaml

resources:
- namespace.yaml
- postgres-cluster.yaml

labels:
  - pairs:
      app.kubernetes.io/name: quantlab-postgres
      app.kubernetes.io/component: database
      tier: "0"
