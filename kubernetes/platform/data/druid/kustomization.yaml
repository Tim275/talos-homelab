apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: druid

# Apache Druid - Real-time Analytics Database
# ZooKeeper-less setup using Kubernetes Extensions (2025 Best Practice)
# https://druid.apache.org/docs/latest/operations/kubernetes

commonLabels:
  app.kubernetes.io/part-of: druid
  environment: staging

resources:
  # 1. Namespace + RBAC
  - namespace.yaml
  - rbac.yaml

  # 2. Metadata Store
  - postgres.yaml

  # 3. Common Configuration
  - common-config.yaml

  # 4. Druid Services
  - coordinator.yaml
  - overlord.yaml
  - broker.yaml
  - historical.yaml
  - middlemanager.yaml
  - router.yaml
