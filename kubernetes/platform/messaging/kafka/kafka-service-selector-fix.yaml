# Kustomize Patch: Fix Service Selectors for Strimzi-generated Pods
# =====================================================================
# Problem: Kustomize commonLabels adds enterprise labels to service selectors,
# but Strimzi-generated pods don't have these enterprise labels
# Solution: Override selectors to only use labels that exist on pods

apiVersion: v1
kind: Service
metadata:
  name: kafka-exporter-metrics
  namespace: kafka
spec:
  selector:
    # Only use labels that exist on Strimzi-generated pods
    strimzi.io/cluster: my-cluster
    strimzi.io/name: my-cluster-kafka-exporter
