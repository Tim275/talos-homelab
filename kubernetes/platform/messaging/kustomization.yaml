apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 📨 PLATFORM MESSAGING DOMAIN - COMPONENT CONTROL
# =================================================
# Comment/Uncomment lines to enable/disable messaging platform components
# Uncommented = ✅ DEPLOYED | Commented = ❌ DISABLED

resources:
  # 🎯 CHILD APPLICATIONS - APPEAR IN ARGOCD UI
  # ===========================================
  - kafka/application.yaml  # ✅ ENABLED - Strimzi Kafka (CNCF open source)
  # - kafka-cfk/application.yaml  # ❌ DISABLED - Replaced by Strimzi for CNCF compliance
  # - redpanda-console/application.yaml  # ❌ DISABLED - Will re-enable with Strimzi
  # - schema-registry/application.yaml  # ❌ DISABLED - Not needed for Strimzi migration


  # 🔄 Stream Processing (Future)
  # - kafka-streams/                  # ❌ DISABLED - Stream processing apps
  # - ksqldb/                         # ❌ DISABLED - SQL for streams

  # 📡 Message Queues (Alternative)
  # - rabbitmq/                       # ❌ DISABLED - Traditional message queue
  # - nats/                           # ❌ DISABLED - Cloud-native messaging

# 🏢 Domain Labels
labels:
  - pairs:
      app.kubernetes.io/managed-by: argocd
      app.kubernetes.io/part-of: timour-homelab
      app.kubernetes.io/domain: messaging
      app.kubernetes.io/layer: platform
      team: timour

# 📊 Domain Annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "16"
  enterprise.domain: "platform-messaging"
  gitops.control: "kustomize-component-level"
