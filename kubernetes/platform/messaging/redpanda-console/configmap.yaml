apiVersion: v1
kind: ConfigMap
metadata:
  name: redpanda-console-config
  namespace: kafka
data:
  config.yaml: |
    kafka:
      brokers: ["my-cluster-kafka-bootstrap:9092"]
      clientId: redpanda-console
      sasl:
        enabled: false
      tls:
        enabled: false
      schemaRegistry:
        enabled: false

    # Redpanda Console UI Configuration
    console:
      # Basic Authentication (can be replaced with OIDC later)
      login:
        enabled: true
        jwtSecretFromFile: "/etc/console/secrets/jwt-secret"
        useSecureCookies: false
        # Basic Auth Users
        plain:
          enabled: true
          credentials:
            - username: admin
              passwordFromFile: "/etc/console/secrets/password"

      # Enterprise features
      enterprise:
        enabled: false

    # Server Configuration
    server:
      listenPort: 8080
      basePath: ""
      setBasePathFromXForwardedPrefix: true
      compressionLevel: 4

    # Connect to Kafka Connect if available
    connect:
      enabled: true
      clusters:
        - name: my-cluster-connect
          url: http://my-cluster-connect-api:8083

    # Logging
    logger:
      level: info