apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization


namespace: lldap

resources:
  # Core Resources (REQUIRED)
  - namespace.yaml
  - deployment.yaml
  - service.yaml
  - configmap.yaml
  - sealed-secrets.yaml

  # OPTIONAL: Bootstrapping (declarative users/groups + custom attributes)
  # DISABLED: Bootstrap job has issues with Secret key, users created manually in LLDAP UI
  # - bootstrap-config.yaml
  # - bootstrap-job.yaml

  # OPTIONAL: PostgreSQL database (instead of SQLite)
  # - cnpg-database.yaml

commonLabels:
  app.kubernetes.io/name: lldap
  app.kubernetes.io/component: identity-service
  app.kubernetes.io/part-of: platform-identity

images:
  - name: lldap/lldap
    newTag: "2025-02-05-alpine-rootless"
