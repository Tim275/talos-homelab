apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸš€ BOOTSTRAP KUSTOMIZATION - NO HELM CHARTS!
# ===============================================
# This file deploys only ApplicationSets, not the actual components
# Use this for: kubectl apply -k . -o bootstrap-kustomization.yaml

resources:
  # ğŸ›ï¸ PLATFORM PROJECT
  - project.yaml

  # ğŸ¯ PLATFORM DOMAIN APPLICATIONSETS - ENTERPRISE TIER-2 PATTERN!
  # ================================================================
  # Each domain gets its own ApplicationSet for clean UI hierarchy
  - data-applicationset.yaml         # ğŸ—„ï¸ Databases, Data Stores, Analytics
  - messaging-applicationset.yaml    # ğŸ“¨ Event Streaming, Message Queues
  - identity-applicationset.yaml     # ğŸ” LDAP, OIDC, Authentication Services
  - developer-applicationset.yaml    # ğŸ‘¨â€ğŸ’» Developer Portals, Backstage, Documentation

  # ğŸ¯ OLD MEGA APPLICATIONSET (DISABLED - caused UI chaos)
  # - applications.yaml

  # ğŸ›ï¸ DOMAIN APPLICATIONSETS NOW HANDLE COMPONENT CONTROL!
  # ========================================================
  # The individual domain ApplicationSets now discover and deploy components:
  # - data-applicationset.yaml manages data/*
  # - messaging-applicationset.yaml manages messaging/*
  # - identity-applicationset.yaml manages identity/*
  # - developer-applicationset.yaml manages developer/*
  #
  # ğŸ’¡ ENABLE/DISABLE CONTROL moved to individual component kustomization.yaml files!

# ğŸ“Š Enterprise Annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "12"
  enterprise.architecture: "true"
  gitops.pattern: "applicationset-bootstrap"