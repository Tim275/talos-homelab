apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🚀 ENTERPRISE PLATFORM - NON PLUS ULTRA PATTERN!
# ================================================
# TRUE KUSTOMIZE CONTROL - Comment/Uncomment INDIVIDUAL PLATFORM SERVICES!
# Netflix/Google/Meta LEVEL - Granular Platform Service Control!
#
# 💡 CONTROL EVERYTHING:
# - Comment service = Platform service DISABLED
# - Uncomment service = Platform service ENABLED
# - NO ApplicationSets needed!
# - PURE KUSTOMIZE POWER!

namespace: argocd

# 🏗️ Enterprise Platform Labels
commonLabels:
  app.kubernetes.io/managed-by: argocd
  app.kubernetes.io/part-of: timour-homelab
  app.kubernetes.io/layer: platform
  enterprise.pattern: individual-applications
  control.type: pure-kustomize
  team: timour

# 📊 Enterprise Annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "12"
  enterprise.architecture: "true"
  gitops.pattern: "individual-platform-services"

resources:
  # 🏛️ PLATFORM PROJECT
  - project.yaml

  # 🗄️ DATA SERVICES (Wave 12)
  # ==========================
  - influxdb-app.yaml                 # ✅ Time-series database
  - mongodb-app.yaml                  # ✅ Document database
  # - cloudbeaver-app.yaml            # ❌ DB management UI
  # - quantlab-postgres-app.yaml      # ❌ Quantlab database
  # - n8n-app.yaml                    # ❌ Platform N8N (use apps/ instead)

  # 📨 MESSAGING SERVICES (Wave 12)
  # ===============================
  - kafka-app.yaml                    # ✅ Message broker
  # - schema-registry-app.yaml        # ❌ Schema management
  # - kafdrop-app.yaml                # ❌ Kafka UI
  # - redpanda-console-app.yaml       # ❌ Alternative Kafka UI

  # 👨‍💻 DEVELOPER SERVICES (Wave 15)
  # =================================
  - backstage-app.yaml                # ✅ Developer portal
  # - git-ops-app.yaml                # ❌ GitOps tools
  # - ci-cd-app.yaml                  # ❌ CI/CD platform