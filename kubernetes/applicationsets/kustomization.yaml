apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ðŸŽ¯ APPLICATIONSETS - COMPONENT DISCOVERY LAYER
# ===============================================
# Standalone ApplicationSets that create individual Applications for components
# Deploy with: kubectl apply -k applicationsets/

resources:
  # Component Discovery ApplicationSets
  - infrastructure-components.yaml    # Creates cilium, rook-ceph, prometheus...
  - platform-components.yaml         # Creates cloudbeaver, lldap, authelia...
  - security-components.yaml         # Creates network-policies, rbac...
  - apps-components.yaml             # Creates audiobookshelf, n8n...

# Enterprise Annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "5"  # Deploy after layer Applications
  deployment.tier: "applicationsets"
  pattern.type: "component-discovery"