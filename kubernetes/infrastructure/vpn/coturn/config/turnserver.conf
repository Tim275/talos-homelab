# Coturn TURN/STUN Server Configuration
# Enterprise NAT Traversal for Netbird Mesh VPN

# Listening interfaces
listening-ip=0.0.0.0
listening-port=3478
tls-listening-port=5349

# External IP (will be set by LoadBalancer)
# external-ip=<EXTERNAL_IP>/<INTERNAL_IP>

# Relay configuration
relay-ip=0.0.0.0
min-port=49152
max-port=65535

# Realm (domain for authentication)
realm=coturn.timourhomelab.org

# Authentication
lt-cred-mech
use-auth-secret
# static-auth-secret will be loaded from Kubernetes Secret

# TLS certificates (cert-manager integration)
cert=/etc/coturn/certs/tls.crt
pkey=/etc/coturn/certs/tls.key

# Security
no-cli
no-loopback-peers
no-multicast-peers
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Performance
# max-bps=0  # No bandwidth limit
# user-quota=0  # No user quota
# total-quota=0  # No total quota

# Logging
log-file=stdout
verbose

# Prometheus metrics
prometheus
