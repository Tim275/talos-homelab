apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🌊 Sync Wave 4: Prometheus CRDs (Before Prometheus Stack)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "4"

helmCharts:
  # 🏗️ PROMETHEUS OPERATOR CRDs (Separate deployment for proper lifecycle)
  - name: prometheus-operator-crds
    repo: https://prometheus-community.github.io/helm-charts
    version: "23.0.0" # Latest CRDs with enableOTLPReceiver support
    releaseName: prometheus-crds
    namespace: monitoring
