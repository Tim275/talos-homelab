apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🌊 Sync Wave -2: Prometheus CRDs (Enterprise Pattern - CRDs First)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "-2"
  argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true

helmCharts:
  # 🏗️ PROMETHEUS OPERATOR CRDs (Compatible with kube-prometheus-stack 77.11.0)
  - name: prometheus-operator-crds
    repo: https://prometheus-community.github.io/helm-charts
    version: "15.1.0" # CRDs matching prometheus-operator v0.85.0 (kube-prometheus-stack 77.11.0)
    releaseName: prometheus-crds
    namespace: monitoring
