apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üéØ TRUE KUSTOMIZE CONTROL - COMMENT/UNCOMMENT = ENABLE/DISABLE!
# ===============================================================
# This is what you wanted for 35 hours! Pure kustomize control!


# üåä Sync Wave 5: Monitoring (After Storage)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "5"

  # üéØ MONITORING COMPONENTS - ENTERPRISE GOTEMPLATE CONTROL!
  # ===========================================================

  # üèóÔ∏è INFRASTRUCTURE FOUNDATION (Wave 0)
resources:
  # üéØ CHILD APPLICATIONS - APPEAR IN ARGOCD UI
  # ===========================================
  - alert-rules-grafana/application.yaml
  - alertmanager/application.yaml
  # - dashboards-operator/application.yaml  # ‚ùå REPLACED by enterprise-dashboards
  # - dashboards/application.yaml           # ‚ùå REPLACED by enterprise-dashboards
  - grafana-operator/application.yaml
  - grafana/application.yaml
  - hubble/application.yaml
  - jaeger/application.yaml
  - kube-prometheus-stack/application.yaml
  - loki/application.yaml
  - metrics-server/application.yaml
  - servicemonitors/application.yaml       # üîß ALL ServiceMonitors centralized
  - grafana/enterprise-dashboards/application.yaml  # ‚ú® Elite Community Dashboards

  # ü§ñ AI OPERATIONS - Self-hosted AI for alert enrichment
  # - ../ai-inference/ollama/application.yaml       # ‚ùå DISABLED - Self-hosted LLM (high CPU/memory)
  # - keep/application.yaml                         # ‚ùå REMOVED - MySQL incompatible with SealedSecrets
  # - robusta/application.yaml                      # ‚ùå DISABLED - AI alert enrichment (high resources)
