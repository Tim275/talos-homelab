apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🎯 TRUE KUSTOMIZE CONTROL - COMMENT/UNCOMMENT = ENABLE/DISABLE!
# ===============================================================
# This is what you wanted for 35 hours! Pure kustomize control!


# 🌊 Sync Wave 5: Monitoring (After Storage)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "5"

  # 🎯 MONITORING COMPONENTS - ENTERPRISE GOTEMPLATE CONTROL!
  # ===========================================================

  # 🏗️ INFRASTRUCTURE FOUNDATION (Wave 0)
resources:
- namespace.yaml
- cilium-servicemonitors.yaml
- istio-servicemonitors.yaml
- kubernetes-dashboard.yaml
- talos-dashboard.yaml
labels:
- includeSelectors: true
  pairs:
    app.kubernetes.io/managed-by: argocd
    infrastructure.domain: monitoring
