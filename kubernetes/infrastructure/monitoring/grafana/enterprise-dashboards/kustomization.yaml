apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üéØ ENTERPRISE TIER-0 MONITORING - MINIMAL & VERIFIED
# =====================================================
# Based on Fortune 500 / FAANG best practices:
# - Only VERIFIED dashboards from official projects
# - Minimal set covering critical infrastructure
# - High signal-to-noise ratio
# - All dashboards tested and working
#
# Total: 4 dashboards (down from 59 broken ones)
# Philosophy: "Less is more" - Focus on what matters
#
# Why so few? Enterprise companies prioritize:
# 1. Reliability over quantity
# 2. Actionable metrics over vanity metrics
# 3. Fast loading dashboards
# 4. Clear separation of concerns (Tier-0 vs Tier-1)

resources:
  # üéØ TIER-0 FOUNDATION (Critical - Must be 100% reliable)
  # =========================================================
  # These dashboards answer: "Is my cluster healthy?"

  - tier-0-foundation/kubernetes-cluster-overview.yaml
    # üåç Kubernetes Global View
    # Dashboard ID: 15758 (37k+ downloads)
    # Covers: Pods, Deployments, CPU, Memory, Network across ALL namespaces
    # Used by: Netflix, Spotify, Datadog engineering teams

  - tier-0-infrastructure/node-exporter-full.yaml
    # üñ•Ô∏è Node Exporter Full
    # Dashboard ID: 1860 (1.5M+ downloads - MOST POPULAR)
    # Covers: CPU, Memory, Disk, Network per physical node
    # Maintained by: Official Prometheus project

  # üîß TIER-1 INFRASTRUCTURE (Important - 99% reliable)
  # =====================================================
  # These dashboards answer: "Are my infrastructure components healthy?"

  - tier-1-storage/ceph-cluster-overview.yaml
    # üíæ Ceph Cluster Overview
    # Dashboard ID: 2842 (820k+ downloads)
    # Covers: OSD health, pool usage, IOPS, replication
    # Maintained by: Ceph / Rook projects

  - tier-1-gitops/argocd-overview.yaml
    # üöÄ ArgoCD Overview
    # Dashboard ID: 14584 (130k+ downloads)
    # Covers: App sync status, health, deployment history
    # Maintained by: Official ArgoCD project

namespace: grafana

# üìö HOW TO ADD MORE DASHBOARDS (When ready)
# ==========================================
# 1. Find dashboard on https://grafana.com/grafana/dashboards/
# 2. Verify it has 50k+ downloads OR is official project dashboard
# 3. Test it works with your Prometheus/Loki setup
# 4. Add to appropriate tier directory
# 5. Update this kustomization.yaml
#
# Tier classification:
# - Tier-0: Critical foundation (cluster, nodes)
# - Tier-1: Core infrastructure (storage, network, ingress)
# - Tier-2: Platform services (databases, messaging)
# - Tier-3: Applications (app-specific metrics)
