apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🌊 Sync Wave 6: Grafana CRD Resources (After Grafana Operator Wave 4)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

# 🎯 GRAFANA OPERATOR PATTERN - Only CRD resources, no Helm chart!
# Grafana Operator (deployed separately) manages the Grafana instance
  # 📊 ConfigMap Dashboards - keep your preferred dashboard pattern
  # (These work with both Helm Grafana and Grafana Operator)

  # 🎯 NATIVE GRAFANA OPERATOR DASHBOARDS - ConfigMap References
  # Links traditional ConfigMaps to GrafanaDashboard CRDs (Vegarn pattern)

  # 🎯 GRAFANA OPERATOR DASHBOARDS - Native GrafanaDashboard CRDs
  # Enterprise-grade monitoring dashboards using Grafana Operator - Direct URL-based from Grafana.com
resources:
  - grafana-admin-secret.yaml
  - grafana-instance.yaml
  - prometheus-datasource.yaml       # Original Prometheus datasource
  - victoriametrics-datasource.yaml  # VictoriaMetrics as default datasource
  - loki-datasource.yaml
  # - datasources.yaml  # Old datasources config
  - dashboards-configmap.yaml
  - dashboards/
  - configmap-dashboards/
  - dashboards/k8s-comprehensive.yaml
  - dashboards/prometheus-overview.yaml
  - dashboards/elasticsearch-detailed.yaml
  - dashboards/kafka-monitoring.yaml
  - operator-dashboards/

  # 🚀 MASSIVE GRAFANA.COM DASHBOARD COLLECTION - CRD Integration
  # These dashboards use grafanaCom: schema which works with Grafana Operator
  - working-kubernetes-dashboard.yaml            # ✅ K8s Global View (ID: 15757)
  - working-kubernetes-comprehensive-dashboard.yaml # ✅ K8s Comprehensive (ID: 13077)
  - working-cilium-dashboard.yaml                # ✅ Cilium Network (ID: 24056)
  - working-elasticsearch-dashboard.yaml         # ✅ Elasticsearch (ID: 14191)
  - working-node-exporter-dashboard.yaml         # ✅ Node Exporter Full (ID: 1860)
  - working-ceph-cluster-dashboard.yaml          # ✅ Ceph Cluster (ID: 2842) - PRIORITY
  - working-ceph-pools-dashboard.yaml            # ✅ Ceph Pools (ID: 5342) - Storage
  - working-redis-dashboard.yaml                 # ✅ Redis Monitoring (ID: 11835)
  - working-cert-manager-dashboard.yaml          # ✅ Cert-Manager (ID: 11001)
  - working-argocd-dashboard.yaml                # ✅ ArgoCD Operational (ID: 19993)

  # 🏢 ENTERPRISE DASHBOARD COLLECTION - Google SRE + AWS/Azure Best Practices
  # Based on 2025 monitoring research: 4 Golden Signals, centralized discovery, performance optimization
  - working-authelia-dashboard.yaml              # ✅ Identity & SSO (ID: 14837)
  - working-hubble-dns-dashboard.yaml            # ✅ DNS Network Monitoring (ID: 16611)
  - working-hubble-l7-dashboard.yaml             # ✅ L7 HTTP Metrics (ID: 16612)
  - working-hubble-network-overview-dashboard.yaml # ✅ Network Overview (ID: 16613)
  - working-grafana-operator-dashboard.yaml      # ✅ Operator Monitoring (ID: 13659)

  # 🌐 UNIFI INFRASTRUCTURE MONITORING - Complete Network Infrastructure
  - working-unpoller-usw-dashboard.yaml          # ✅ Switch Insights (ID: 11315)
  - working-unpoller-uap-dashboard.yaml          # ✅ Access Point Insights (ID: 11314)
  - working-unpoller-usg-dashboard.yaml          # ✅ Security Gateway (ID: 11313)
  - working-unpoller-network-sites-dashboard.yaml # ✅ Network Sites (ID: 11311)
  - working-unpoller-client-insights-dashboard.yaml # ✅ Client Insights (ID: 11312)

# 🧹 BROKEN DASHBOARDS REMOVED (2025-09-25) - Files deleted to clean up Infrastructure folder
# Scripts and documentation:
# - import-batch.sh                     # ✅ Successful API import script
# - import-massive-dashboards.py        # ✅ Python API import script
# - DASHBOARD_IMPORT_SUCCESS.md         # 📋 Complete success report
