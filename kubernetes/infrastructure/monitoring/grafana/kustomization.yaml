apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ns.yaml
  - grafana.yaml
  - grafana-operator-dashboard.yaml
  - http-route.yaml
  - http-route-http.yaml
  # - admin-credentials.yaml          # ‚ùå DISABLED: SealedSecret decryption failing
  # - oidc-credentials.yaml           # ‚ùå DISABLED: SealedSecret decryption failing
  - datasources/alertmanager-operated.yaml
  - datasources/prometheus-operated.yaml
  - datasources/loki.yaml

  # üè¢ ENTERPRISE DASHBOARD HIERARCHY - Google/Netflix/Meta Pattern
  - dashboards/

helmCharts:
  - name: grafana-operator
    repo: oci://ghcr.io/grafana/helm-charts
    includeCRDs: true
    namespace: grafana
    version: v5.19.1 # renovate: github-releases=grafana/grafana-operator
    releaseName: grafana-operator
    valuesFile: ./values.yaml
