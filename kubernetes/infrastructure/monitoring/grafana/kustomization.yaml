apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🌊 Sync Wave 6: Grafana CRD Resources (After Grafana Operator Wave 4)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

# 🎯 GRAFANA OPERATOR PATTERN - Only CRD resources, no Helm chart!
# Grafana Operator (deployed separately) manages the Grafana instance
# 📊 ConfigMap Dashboards - keep your preferred dashboard pattern
# (These work with both Helm Grafana and Grafana Operator)

# 🎯 NATIVE GRAFANA OPERATOR DASHBOARDS - ConfigMap References
# Links traditional ConfigMaps to GrafanaDashboard CRDs (Vegarn pattern)

# 🎯 GRAFANA OPERATOR DASHBOARDS - Native GrafanaDashboard CRDs
# Enterprise-grade monitoring dashboards using Grafana Operator - Direct URL-based from Grafana.com
resources:
  - grafana-admin-secret.yaml
  - grafana-instance.yaml

  # 🎯 2025 DASHBOARD COLLECTION - Clean & Organized
  - dashboards-2025/

  # 🎯 DATASOURCE STRATEGY - VictoriaMetrics Way
  # - prometheus-datasource.yaml       # ❌ DISABLED: Using VictoriaMetrics instead
  # - victoriametrics-datasource.yaml  # ❌ REMOVED: Now handled by victoriametrics/
  # - datasource-aliases.yaml          # ❌ REMOVED: Caused datasource conflicts
  - dashboard-datasource-mappings.yaml # Enhanced dashboards with explicit mapping (optional)
  - loki-datasource.yaml

  # ✅ CLEAN DASHBOARD RESOURCES - 2025 Enterprise Collection
  # Keeping only essential ConfigMaps and organized dashboard structure
  - dashboards-configmap.yaml

  # 🎯 VEGARN CONFIGMAP PATTERN - Real Dashboards mit Content
  - ceph-cluster-dashboard-configmap.yaml
  - kafka-strimzi-dashboard-configmap.yaml

# 🧹 OLD DASHBOARD STRUCTURE CLEANED UP (2025-09-25)
# Removed 39+ individual dashboard files and replaced with organized folder structure
# All dashboards now use proper Grafana Operator CRD pattern with grafanaCom imports

# 🧹 BROKEN DASHBOARDS REMOVED (2025-09-25) - Files deleted to clean up Infrastructure folder
# Scripts and documentation:
# - import-batch.sh                     # ✅ Successful API import script
# - import-massive-dashboards.py        # ✅ Python API import script
# - DASHBOARD_IMPORT_SUCCESS.md         # 📋 Complete success report
