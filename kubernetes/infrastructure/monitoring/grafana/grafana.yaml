apiVersion: grafana.integreatly.org/v1beta1
kind: Grafana
metadata:
  name: grafana
  namespace: grafana
  labels:
    app: grafana
spec:
  disableDefaultAdminSecret: false  # Use admin credentials for now
  config:
    log:
      mode: console
    server:
      root_url: http://grafana.homelab.local:3000  # Your local setup
      # OIDC disabled for initial setup - can be added later
  service:
    spec:
      ports:
        - name: http
          port: 3000
          protocol: TCP
          targetPort: 3000
      type: ClusterIP
  deployment:
    spec:
      template:
        spec:
          containers:
            - name: grafana
              resources:
                limits:
                  cpu: 500m
                  memory: 512Mi
                requests:
                  cpu: 100m
                  memory: 128Mi
