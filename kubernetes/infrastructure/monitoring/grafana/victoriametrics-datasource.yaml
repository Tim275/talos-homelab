# ðŸš€ VICTORIAMETRICS DATASOURCE - High-Performance Prometheus Alternative
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: victoriametrics-datasource
  namespace: monitoring
  labels:
    app.kubernetes.io/name: victoriametrics-datasource
    app.kubernetes.io/part-of: grafana
spec:
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  datasource:
    name: VictoriaMetrics
    type: prometheus  # VM is Prometheus-compatible
    access: proxy
    url: http://vmselect-vmcluster.monitoring.svc.cluster.local:8481/select/0/prometheus
    isDefault: true  # Make VictoriaMetrics the default
    editable: true
    jsonData:
      timeInterval: "30s"
      queryTimeout: "60s"
      httpMethod: "POST"
      customQueryParameters: "nocache=1"  # VM specific - bypass cache for real-time data
