---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🎯 GRAFANA OPERATOR DASHBOARDS
# Native GrafanaDashboard CRDs using Grafana Operator
# These dashboards provide enterprise-grade monitoring for all infrastructure components

commonLabels:
  app.kubernetes.io/part-of: grafana-operator
  app.kubernetes.io/component: dashboards
  team: platform

# 🌊 Sync Wave 7: GrafanaDashboard CRDs (After Grafana Instance Wave 6)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "7"

resources:
  # 💾 Storage Monitoring
  - rook-ceph-dashboard.yaml         # Ceph cluster health, pool usage, IOPS, latency
  - ceph-osd-dashboard.yaml          # Individual OSD performance and storage utilization

  # 🌐 Network Monitoring
  - cilium-dashboard.yaml            # Cilium CNI operator, network policies, endpoint management
  - hubble-dashboard.yaml            # Network flows, DNS queries, HTTP requests, drops

  # 🔄 GitOps Monitoring
  - argocd-dashboard.yaml            # Application health, sync status, deployment tracking

  # ☸️ Kubernetes Monitoring
  - kubernetes-overview-dashboard.yaml # Cluster overview, node status, resource usage, pod metrics

  # 🔐 Security Monitoring
  - cert-manager-dashboard.yaml      # Certificate expiration, ACME challenges, issuer status

# 📊 GrafanaDashboard Benefits vs ConfigMaps:
# ✅ Native Kubernetes resources (kubectl get grafanadashboards)
# ✅ Automatic Grafana import/sync via Operator
# ✅ Folder organization in Grafana UI
# ✅ Datasource templating and substitution
# ✅ Version control and lifecycle management
# ✅ GitOps-friendly with proper status reporting
# ✅ No ConfigMap sidecar container required
# ✅ Schema validation and CRD benefits
