apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Prometheus Operator CRDs (cleaned of problematic annotations)
# These are installed before the main Prometheus stack
resources:
  - alertmanagers.yaml
  - alertmanagerconfigs.yaml
  - prometheuses.yaml
  - prometheusagents.yaml
  - thanosrulers.yaml
  - scrapeconfigs.yaml

commonAnnotations:
  argocd.argoproj.io/sync-wave: "0"  # Install before main Prometheus