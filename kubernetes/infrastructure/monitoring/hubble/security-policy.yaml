# ðŸ”’ Hubble UI IP Whitelist Security Policy
# CRITICAL: Hubble shows ALL network traffic - must be protected!
apiVersion: gateway.envoyproxy.io/v1alpha1
kind: SecurityPolicy
metadata:
  name: hubble-ip-whitelist
  namespace: kube-system
spec:
  targetRefs:
    - group: gateway.networking.k8s.io
      kind: HTTPRoute
      name: hubble

  # IP Whitelist - only allow your home IP
  authorization:
    defaultAction: Deny
    rules:
      - action: Allow
        principal:
          clientCIDRs:
            - 0.0.0.0/0  # TEMPORARY: Allow all for testing (TODO: fix IP detection)
