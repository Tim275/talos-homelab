apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namePrefix: monitoring-

# üö´ DO NOT DEPLOY - ARCHIVED SETUP ONLY!
# ========================================
# üèõÔ∏è OLD WORLD GRAFANA - HELM MANAGED SETUP (ARCHIVED)
# =====================================================
# ‚ö†Ô∏è  WARNING: This is NOT deployed by the ApplicationSet!
# ‚ö†Ô∏è  This is the original Helm-based Grafana setup before migrating to Grafana Operator
# ‚ö†Ô∏è  Kept for reference and potential rollback if needed - DO NOT ADD TO APPLICATIONSET!
#
# Key differences from new Operator setup:
# - Uses Helm chart instead of Grafana Operator CRDs
# - ConfigMap dashboards with grafana_dashboard label
# - Values.yaml configuration instead of Grafana CR
# - Direct Helm deployment instead of CRD management

# üåä Sync Wave 5: Grafana Dashboards (After Storage)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "5"

resources:
  - datasources.yaml              # Prometheus connection configuration
  - dashboards-configmap.yaml     # Complete dashboard JSON files as Infrastructure as Code
  - dashboards/                   # Folder with specialized dashboard collections

helmCharts:
  - name: grafana
    repo: https://grafana.github.io/helm-charts
    version: "10.0.0" # renovate: helm=grafana/grafana
    releaseName: grafana
    namespace: monitoring
    valuesFile: values.yaml