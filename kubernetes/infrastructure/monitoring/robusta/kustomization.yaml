apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸ¤– ROBUSTA - ENTERPRISE ALERT ENRICHMENT
# =========================================
# âœ… StateLESS architecture (no database!)
# âœ… SealedSecrets compatible (secretKeyRef pattern)
# âœ… Slack integration for #homelab-alerts
# âœ… Manifests pre-rendered with `helm template`

namespace: monitoring

resources:
  - slack-token-sealed-secret.yaml    # ğŸ” Slack OAuth token (SealedSecret)
  - manifests.yaml                     # ğŸ“¦ Pre-rendered Helm manifests

# ğŸ¢ Enterprise Labels
labels:
  - pairs:
      app.kubernetes.io/managed-by: argocd
      app.kubernetes.io/part-of: timour-homelab
      app.kubernetes.io/component: alerting
      app.kubernetes.io/layer: infrastructure
      team: timour

# ğŸ“Š Annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "5"
  enterprise.pattern: "helm-template-prerendered"
  gitops.control: "kustomize-with-prerendered-helm"
