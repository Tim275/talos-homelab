apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# 🎯 ENTERPRISE INFRASTRUCTURE DASHBOARDS OPERATOR
# ===============================================
# All ServiceMonitors and GrafanaDashboards for cross-namespace monitoring
# Deployed via ArgoCD infrastructure-dashboards-operator application

commonLabels:
  app.kubernetes.io/name: infrastructure-dashboards-operator
  app.kubernetes.io/component: monitoring
  app.kubernetes.io/part-of: observability-platform

# 🌊 Sync Wave 6: Dashboards (After Monitoring Infrastructure)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

resources:
  # 📁 ENTERPRISE GRAFANA FOLDERS (Explicit Folder Control)
  # ======================================================
  - folders/n8n-folder.yaml              # ✅ N8N Automation Folder
  - folders/argocd-folder.yaml           # ✅ ArgoCD GitOps Folder
  - folders/rook-ceph-folder.yaml        # ✅ Rook-Ceph Storage Folder
  - folders/istio-folder.yaml            # ✅ Istio Service Mesh Folder
  - folders/elasticsearch-folder.yaml    # ✅ Elasticsearch Logging Folder
  - folders/kafka-folder.yaml            # ✅ Kafka Messaging Folder
  - folders/kubernetes-folder.yaml       # ✅ Kubernetes Cluster Folder
  - folders/cloudnativepg-folder.yaml    # ✅ CloudNativePG Database Folder
  - folders/audiobookshelf-folder.yaml   # ✅ Audiobookshelf Media Folder

  # 🔧 ENTERPRISE SERVICEMONITORS (Cross-Namespace)
  # ===============================================
  - servicemonitors/kafka-exporter.yaml      # ✅ Kafka/Strimzi Metrics
  - servicemonitors/cnpg-controller.yaml     # ✅ CloudNativePG Metrics
  - servicemonitors/sail-operator.yaml       # ✅ Sail Operator Metrics

  # 📊 ENTERPRISE DASHBOARDS (GrafanaDashboard CRDs)
  # ===============================================
  - dashboards/  # ✅ All Enterprise Application-Based Dashboards
