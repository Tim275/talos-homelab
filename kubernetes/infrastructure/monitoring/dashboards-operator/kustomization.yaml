apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸ¯ ENTERPRISE INFRASTRUCTURE DASHBOARDS OPERATOR
# ===============================================
# All ServiceMonitors and GrafanaDashboards for cross-namespace monitoring
# Deployed via ArgoCD infrastructure-dashboards-operator application

commonLabels:
  app.kubernetes.io/name: infrastructure-dashboards-operator
  app.kubernetes.io/component: monitoring
  app.kubernetes.io/part-of: observability-platform

# ğŸŒŠ Sync Wave 6: Dashboards (After Monitoring Infrastructure)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

resources:
  # ğŸ“ ENTERPRISE GRAFANA FOLDERS (Explicit Folder Control)
  # ======================================================
  - folders/n8n-folder.yaml              # âœ… N8N Automation Folder
  - folders/argocd-folder.yaml           # âœ… ArgoCD GitOps Folder
  - folders/rook-ceph-folder.yaml        # âœ… Rook-Ceph Storage Folder
  - folders/istio-folder.yaml            # âœ… Istio Service Mesh Folder
  - folders/elasticsearch-folder.yaml    # âœ… Elasticsearch Logging Folder
  - folders/kafka-folder.yaml            # âœ… Kafka Messaging Folder
  - folders/kubernetes-folder.yaml       # âœ… Kubernetes Cluster Folder
  - folders/cloudnativepg-folder.yaml    # âœ… CloudNativePG Database Folder
  - folders/audiobookshelf-folder.yaml   # âœ… Audiobookshelf Media Folder

  # ğŸ”§ ENTERPRISE SERVICEMONITORS (Cross-Namespace)
  # ===============================================
  - servicemonitors/kafka-exporter.yaml      # âœ… Kafka/Strimzi Metrics
  - servicemonitors/cnpg-controller.yaml     # âœ… CloudNativePG Metrics
  - servicemonitors/sail-operator.yaml       # âœ… Sail Operator Metrics

  # ğŸ“Š ENTERPRISE DASHBOARDS (GrafanaDashboard CRDs)
  # ===============================================
  - dashboards/  # âœ… All Enterprise Application-Based Dashboards
