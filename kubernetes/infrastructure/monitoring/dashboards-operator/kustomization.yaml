apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ðŸŽ¯ ENTERPRISE INFRASTRUCTURE DASHBOARDS OPERATOR
# ===============================================
# All ServiceMonitors and GrafanaDashboards for cross-namespace monitoring
# Deployed via ArgoCD infrastructure-dashboards-operator application

commonLabels:
  app.kubernetes.io/name: infrastructure-dashboards-operator
  app.kubernetes.io/component: monitoring
  app.kubernetes.io/part-of: observability-platform

# ðŸŒŠ Sync Wave 6: Dashboards (After Monitoring Infrastructure)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

resources:
  # ðŸ”§ ENTERPRISE SERVICEMONITORS (Cross-Namespace)
  # ===============================================
  - servicemonitors/kafka-exporter.yaml
  - servicemonitors/cnpg-controller.yaml
  - servicemonitors/sail-operator.yaml

  # ðŸ“Š ENTERPRISE DASHBOARDS (All 124 Dashboard Files)
  # ===================================================

  # ArgoCD GitOps Platform
  - argocd-application-health.yaml
  - argocd-gitops-dashboard.yaml
  - argocd-gitops-performance.yaml
  - argocd-operational-dashboard.yaml
  - argocd-performance-dashboard.yaml

  # Audiobookshelf Media Platform
  - audiobookshelf-media.yaml
  - audiobookshelf-overview.yaml
  - audiobookshelf-performance.yaml
  - audiobookshelf-user-activity.yaml

  # Authentication & Identity
  - authelia-authentication.yaml
  - authelia-oidc.yaml
  - authelia-performance.yaml
  - authelia-security.yaml
  - lldap-authentication.yaml
  - lldap-directory.yaml
  - lldap-performance.yaml

  # CEPH Storage Platform
  - ceph-cluster-dashboard.yaml
  - ceph-cluster-health.yaml
  - ceph-pool-performance.yaml
  - rook-ceph-storage-dashboard.yaml

  # Certificate Management
  - cert-manager-certificate-lifecycle.yaml
  - cert-manager-dashboard.yaml
  - cert-manager-health-dashboard.yaml

  # Cilium Networking
  - cilium-hubble-flows.yaml
  - cilium-network-overview.yaml
  - cilium-networking-dashboard.yaml

  # CloudBeaver Database Admin

  # Cloudflared Tunnel

  # CloudNativePG PostgreSQL
  - cnpg-backup.yaml
  - cnpg-cluster-overview.yaml
  - cnpg-performance.yaml
  - cnpg-replication.yaml
  - cnpg-resources.yaml
  - postgresql-cnpg-dashboard.yaml
  - postgresql-databases-dashboard.yaml

  # Elasticsearch Platform
  - elasticsearch-cluster-dashboard.yaml
  # Skip duplicate: - elasticsearch-cluster-health.yaml (same name as dashboard)
  - elasticsearch-indices-performance.yaml

  # Gateway & Ingress

  # Grafana Monitoring

  # InfluxDB Time Series

  # Istio Service Mesh
  - istio-overview-dashboard.yaml
  - istio-security-dashboard.yaml
  - istio-service-mesh-dashboard.yaml
  - istio-service-mesh-overview.yaml
  - istio-traffic-management.yaml
  - istio-workload-performance.yaml

  # Jaeger Tracing

  # Kafka Streaming Platform
  - kafka-broker-dashboard.yaml
  - kafka-cluster-overview.yaml
  - kafka-streaming-platform-dashboard.yaml
  - kafka-topic-performance.yaml

  # Logging & Observability

  # Metrics & Monitoring

  # N8N Workflow Automation
  - n8n-automation-dashboard.yaml
  - n8n-platform-overview.yaml
  - n8n-workflow-dashboard.yaml
  - n8n-workflow-execution.yaml

  # Cost Management

  # OpenTelemetry

  # Security & Secrets

  # Backup & Recovery
  - velero-backup-dashboard.yaml
  - velero-backup-operations.yaml

  # ðŸ“¡ SERVICEMONITORS (Cross-Namespace Metrics Collection)
  # =======================================================
  - authelia-servicemonitor.yaml
  - backstage-servicemonitor.yaml
  - cert-manager-servicemonitor.yaml
  - cloudbeaver-servicemonitor.yaml
  - cnpg-servicemonitor.yaml
  - elasticsearch-servicemonitor.yaml
  - influxdb-servicemonitor.yaml
  - kafka-servicemonitor.yaml
  - lldap-servicemonitor.yaml
  - mongodb-servicemonitor.yaml
  - n8n-servicemonitor.yaml
  - opencost-servicemonitor.yaml
  - redis-servicemonitor.yaml
  - velero-servicemonitor.yaml

namespace: grafana