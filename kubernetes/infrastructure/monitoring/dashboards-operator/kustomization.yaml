apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ðŸŽ¯ ENTERPRISE INFRASTRUCTURE DASHBOARDS OPERATOR
# ===============================================
# All ServiceMonitors and GrafanaDashboards for cross-namespace monitoring
# Deployed via ArgoCD infrastructure-dashboards-operator application

commonLabels:
  app.kubernetes.io/name: infrastructure-dashboards-operator
  app.kubernetes.io/component: monitoring
  app.kubernetes.io/part-of: observability-platform

# ðŸŒŠ Sync Wave 6: Dashboards (After Monitoring Infrastructure)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

resources:
  # ðŸ”§ ENTERPRISE SERVICEMONITORS (Cross-Namespace)
  # ===============================================
  - servicemonitors/kafka-exporter.yaml
  - servicemonitors/cnpg-controller.yaml
  - servicemonitors/sail-operator.yaml

  # ðŸ“Š ENTERPRISE DASHBOARDS (All 124 Dashboard Files)
  # ===================================================

  # ArgoCD GitOps Platform
  - alertmanager-overview-vegarn.yaml
  - argo-rollouts-vegarn.yaml
  - argocd-application-health.yaml
  - argocd-applications-vegarn.yaml
  - argocd-gitops-dashboard.yaml
  - argocd-gitops-performance.yaml
  - argocd-notifications-vegarn.yaml
  - argocd-operational-dashboard.yaml
  - argocd-overview-vegarn.yaml
  - argocd-performance-dashboard.yaml

  # Audiobookshelf Media Platform
  - audiobookshelf-media.yaml
  - audiobookshelf-overview.yaml
  - audiobookshelf-performance.yaml
  - audiobookshelf-user-activity.yaml

  # Authentication & Identity
  - authelia-authentication.yaml
  - authelia-oidc.yaml
  - authelia-overview-vegarn.yaml
  - authelia-performance.yaml
  - authelia-security-vegarn.yaml
  - authelia-security.yaml
  - lldap-authentication.yaml
  - lldap-directory-vegarn.yaml
  - lldap-directory.yaml
  - lldap-performance.yaml

  # CEPH Storage Platform
  - ceph-cluster-dashboard.yaml
  - ceph-cluster-health.yaml
  - ceph-pool-performance.yaml
  - rook-ceph-cluster-vegarn.yaml
  - rook-ceph-mds-vegarn.yaml
  - rook-ceph-osd-vegarn.yaml
  - rook-ceph-pools-vegarn.yaml
  - rook-ceph-rgw-vegarn.yaml
  - rook-ceph-storage-dashboard.yaml

  # Certificate Management
  - cert-manager-certificate-lifecycle.yaml
  - cert-manager-dashboard.yaml
  - cert-manager-health-dashboard.yaml

  # Cilium Networking
  - cilium-agent-vegarn.yaml
  - cilium-hubble-flows.yaml
  - cilium-network-overview.yaml
  - cilium-networking-dashboard.yaml
  - cilium-operator-vegarn.yaml
  - hubble-dns-vegarn.yaml
  - hubble-l7-vegarn.yaml

  # CloudBeaver Database Admin
  - cloudbeaver-overview-vegarn.yaml
  - cloudbeaver-sessions-vegarn.yaml

  # Cloudflared Tunnel
  - cloudflared-dns-vegarn.yaml
  - cloudflared-overview-vegarn.yaml
  - cloudflared-performance-vegarn.yaml
  - cloudflared-security-vegarn.yaml

  # CloudNativePG PostgreSQL
  - cnpg-backup-vegarn.yaml
  - cnpg-backup.yaml
  - cnpg-cluster-overview.yaml
  - cnpg-cluster-vegarn.yaml
  - cnpg-performance-vegarn.yaml
  - cnpg-performance.yaml
  - cnpg-postgres-vegarn.yaml
  - cnpg-replication-vegarn.yaml
  - cnpg-replication.yaml
  - cnpg-resources.yaml
  - postgresql-cnpg-dashboard.yaml
  - postgresql-databases-dashboard.yaml

  # Elasticsearch Platform
  - elasticsearch-cluster-dashboard.yaml
  # Skip duplicate: - elasticsearch-cluster-health.yaml (same name as dashboard)
  - elasticsearch-cluster-vegarn.yaml
  - elasticsearch-indices-performance.yaml
  - elasticsearch-indices-vegarn.yaml
  - kibana-vegarn.yaml

  # Gateway & Ingress
  - envoy-gateway-vegarn.yaml

  # Grafana Monitoring
  - grafana-overview-vegarn.yaml

  # InfluxDB Time Series
  - influxdb-overview-vegarn.yaml
  - influxdb-performance-vegarn.yaml

  # Istio Service Mesh
  - istio-control-plane-vegarn.yaml
  - istio-mesh-vegarn.yaml
  - istio-overview-dashboard.yaml
  - istio-performance-vegarn.yaml
  - istio-security-dashboard.yaml
  - istio-service-mesh-dashboard.yaml
  - istio-service-mesh-overview.yaml
  - istio-service-vegarn.yaml
  - istio-traffic-management.yaml
  - istio-workload-performance.yaml
  - istio-workload-vegarn.yaml

  # Jaeger Tracing
  - jaeger-overview-vegarn.yaml
  - jaeger-performance-vegarn.yaml

  # Kafka Streaming Platform
  - kafka-broker-dashboard.yaml
  - kafka-cluster-overview.yaml
  - kafka-cluster-vegarn.yaml
  - kafka-consumers-vegarn.yaml
  - kafka-streaming-platform-dashboard.yaml
  - kafka-topic-performance.yaml
  - kafka-topics-vegarn.yaml
  - redpanda-console-vegarn.yaml
  - strimzi-operators-vegarn.yaml

  # Logging & Observability
  - loki-overview-vegarn.yaml
  - vector-logs-vegarn.yaml

  # Metrics & Monitoring
  - metrics-server-vegarn.yaml
  - prometheus-overview-vegarn.yaml

  # N8N Workflow Automation
  - n8n-automation-dashboard.yaml
  - n8n-platform-overview.yaml
  - n8n-workflow-dashboard.yaml
  - n8n-workflow-execution.yaml

  # Cost Management
  - opencost-cluster-vegarn.yaml
  - opencost-workloads-vegarn.yaml

  # OpenTelemetry
  - opentelemetry-vegarn.yaml

  # Security & Secrets
  - sealed-secrets-vegarn.yaml

  # Backup & Recovery
  - velero-backup-dashboard.yaml
  - velero-backup-operations.yaml
  - velero-backup-vegarn.yaml
  - velero-overview-vegarn.yaml

  # ðŸ“¡ SERVICEMONITORS (Cross-Namespace Metrics Collection)
  # =======================================================
  - authelia-servicemonitor.yaml
  - backstage-servicemonitor.yaml
  - cert-manager-servicemonitor.yaml
  - cloudbeaver-servicemonitor.yaml
  - cnpg-servicemonitor.yaml
  - elasticsearch-servicemonitor.yaml
  - influxdb-servicemonitor.yaml
  - kafka-servicemonitor.yaml
  - lldap-servicemonitor.yaml
  - mongodb-servicemonitor.yaml
  - n8n-servicemonitor.yaml
  - opencost-servicemonitor.yaml
  - redis-servicemonitor.yaml
  - velero-servicemonitor.yaml

namespace: grafana