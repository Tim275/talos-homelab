apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üåä Sync Wave 6: Dashboards (After Grafana Operator)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

resources:
  # üìä WORKING GRAFANA DASHBOARD CRDs - Point to real ConfigMaps
  - argocd-gitops-dashboard.yaml
  - ceph-cluster-dashboard.yaml
  - cert-manager-dashboard.yaml

  # üè¢ ENTERPRISE SERVICE DASHBOARDS
  # GitOps
  - argocd-operational-dashboard.yaml
  - argocd-performance-dashboard.yaml
  - argocd-application-health.yaml
  - argocd-gitops-performance.yaml

  # Service Mesh & Networking
  - istio-overview-dashboard.yaml
  - istio-service-mesh-dashboard.yaml
  - istio-service-mesh-overview.yaml
  - istio-workload-performance.yaml
  - istio-traffic-management.yaml
  - istio-security-dashboard.yaml
  - cilium-networking-dashboard.yaml
  - cilium-network-overview.yaml
  - cilium-hubble-flows.yaml

  # Data Platform
  - kafka-broker-dashboard.yaml
  - kafka-streaming-platform-dashboard.yaml
  - kafka-cluster-overview.yaml
  - kafka-topic-performance.yaml
  - elasticsearch-cluster-dashboard.yaml
  - elasticsearch-cluster-health.yaml
  - elasticsearch-indices-performance.yaml
  - postgresql-cnpg-dashboard.yaml
  - postgresql-databases-dashboard.yaml

  # Applications
  - n8n-automation-dashboard.yaml
  - n8n-workflow-dashboard.yaml
  - n8n-platform-overview.yaml
  - n8n-workflow-execution.yaml

  # Security & Infrastructure
  - cert-manager-health-dashboard.yaml
  - cert-manager-certificate-lifecycle.yaml
  - rook-ceph-storage-dashboard.yaml
  - ceph-cluster-health.yaml
  - ceph-pool-performance.yaml

  # Backup & Storage
  - velero-backup-dashboard.yaml
  - velero-backup-operations.yaml

  # üìä SERVICEMONITORS - Metrics Collection (Dashboard Dependencies)
  - cert-manager-servicemonitor.yaml
  - n8n-servicemonitor.yaml

labels:
  - pairs:
      app.kubernetes.io/managed-by: argocd
      app.kubernetes.io/part-of: monitoring-dashboards

namespace: grafana