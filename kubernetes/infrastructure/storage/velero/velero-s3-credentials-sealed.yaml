---
# Velero S3 Credentials - SealedSecret
# =====================================
# Diese Credentials werden beim Bootstrap benötigt und sind mit dem
# SealedSecrets Public Key versiegelt.
#
# WICHTIG: Diese Credentials gehören zum Rook-Ceph User "velero"
# AccessKey: L46TPBNU9JGUD811DPHU
#
# Falls nach neuem Bootstrap die Buckets nicht funktionieren:
# 1. Prüfe ob CephObjectStoreUser "velero" existiert
# 2. Falls neue Credentials generiert wurden, versiegle sie neu:
#    kubectl get secret -n rook-ceph rook-ceph-object-user-homelab-objectstore-velero -o jsonpath='{.data.AccessKey}' | base64 -d
#    kubectl get secret -n rook-ceph rook-ceph-object-user-homelab-objectstore-velero -o jsonpath='{.data.SecretKey}' | base64 -d
# 3. Erstelle neues SealedSecret mit kubeseal
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: velero-s3-credentials
  namespace: velero
spec:
  encryptedData:
    cloud: AgAQ73EsYkJVeZn4aDJeBQV45zi9P8ELPrWd6KG3Y9IqkzXNYFjgYYzHbRFfsAdllBhf5YCG0SAyHJZagleK6i+WtlxltoxjcrClfW+eRLOBmjn3E6++CaSiqDuUTVn33DGejqsVVKtzwmgx9nJL1YmI2ynpG4vmjCZPX1Uaz0IQX3OXmIyynZEMb7+dg/ull9xsRw97XB++1aGLYf4kS9KKcgn4mClgxJE3AIgm7sJWneNNXTgbr+3Jjz7oiFAmZ9GR5M7UbqwckF8LIujmVMWdBWlgBKalcUx9+tY+FDrqnJ87LP86dwdGlM2eGr8ysVmH93sDsSw+mDh8c99isrDMAiPmD5F/POfPxN4OPnxBU27D/EcotxnEfWLdAcehjG4Ty/2qjG5wqCLnqmpC+31kCoBJcb/c6GpgjYcDSCnlXvTI9GUsccN0sQrLMmHqw0SztiNY/uukciK02IA4/ylVtpaklqxCVJ4WwEVxboHiRYF7GOxUk1IMgnyP75sOLHjK+uBd9wV90x/sIJqFbtPcdjulGyOAeeecl5eQlbLzXDV9THrc00yd0mHlmSPmW9KVmPmIIEgDlb/U5OHWVHMZdkT2TQuB45mYUTjBQv9Pf5GkmE+w9OZzwogTp9k0X3vfb/a6wmUR/Nn747Wctk7KTlGZR0mPMf6w0oD0LIZ4Soflr4ZP8lcibcQf8YT9VoYiT5ioAjNVRzYyY+tMe8sUNFBAmjE965eexE5PNe7nmlbucPWW77VB3oTMZBoGQPIdBLK24hJWOmuF0bBENFDhurNIpyduznE9KqaYYtSlSM+LFl/0cDeGwR2hZhQS6DxdIlxgT/bI0ULNPtIR6Txn
  template:
    metadata:
      name: velero-s3-credentials
      namespace: velero
