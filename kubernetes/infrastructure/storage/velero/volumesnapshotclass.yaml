# VolumeSnapshotClass for Velero + Longhorn CSI integration
# Creates Longhorn backups (stored in S3) when Velero triggers snapshots
apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshotClass
metadata:
  name: velero-longhorn-backup-vsc
  labels:
    velero.io/csi-volumesnapshot-class: "true"  # Velero uses this class
driver: driver.longhorn.io
deletionPolicy: Retain  # Preserve snapshots during disasters
parameters:
  type: bak  # Longhorn backup (to S3), not just local snapshot