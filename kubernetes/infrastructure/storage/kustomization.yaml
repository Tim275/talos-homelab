apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸ¯ TRUE KUSTOMIZE CONTROL - COMMENT/UNCOMMENT = ENABLE/DISABLE!
# ===============================================================
# This is what you wanted for 35 hours! Pure kustomize control!

commonLabels:
  app.kubernetes.io/managed-by: argocd
  infrastructure.domain: storage

resources:
  # ğŸ›ï¸ STORAGE PROJECT (keep this)
  - project.yaml

  # ğŸ¯ CHILD APPLICATIONS - APPEAR IN ARGOCD UI
  # ===========================================
  - rook-ceph/application.yaml
  - rook-ceph-rgw/application.yaml
  # - proxmox-csi/application.yaml  # âŒ No application.yaml file exists

  - csi-drivers/application.yaml   # âœ… CSI Snapshot Infrastructure (cluster-wide)
  # - minio/         # Not needed
  # - longhorn/      # Alternative solution
  - velero/application.yaml  # âœ… N8N Backup enabled
