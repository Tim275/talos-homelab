apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üéØ TRUE KUSTOMIZE CONTROL - COMMENT/UNCOMMENT = ENABLE/DISABLE!
# ===============================================================
# This is what you wanted for 35 hours! Pure kustomize control!

commonLabels:
  app.kubernetes.io/managed-by: argocd
  infrastructure.domain: storage

resources:
  # üèõÔ∏è STORAGE PROJECT (keep this)
  - project.yaml

  # üéØ CHILD APPLICATIONS - APPEAR IN ARGOCD UI
  # ===========================================
  - rook-ceph/application.yaml
  - rook-ceph-rgw/application.yaml
  - proxmox-csi/application.yaml

  # üéØ STORAGE COMPONENTS - KUSTOMIZE CONTROL
  # ==========================================
  - rook-ceph/
  - rook-ceph-rgw/
  - proxmox-csi/
  - layers/

  # ‚ùå DISABLED STORAGE COMPONENTS
  # - csi-drivers/   # Empty kustomization
  # - minio/         # Not needed
  # - longhorn/      # Alternative solution
  # - velero/        # Backup not needed yet