tunnel: b5f4258e-8cd9-4454-b46e-6f4f34219bb4
credentials-file: /etc/cloudflared/credentials/credentials.json
metrics: 0.0.0.0:2000
no-autoupdate: true

warp-routing:
  enabled: true

ingress:
  # Critical services: direct routing for reliability
  - hostname: argo.timourhomelab.org
    service: http://argocd-server.argocd.svc.cluster.local:80

  - hostname: auth.timourhomelab.org
    service: http://authelia.authelia.svc.cluster.local:80

  - hostname: iam.timourhomelab.org
    service: http://keycloak.keycloak.svc.cluster.local:8080

  # All other services via Envoy Gateway (HTTPRoutes)
  - hostname: "*.timourhomelab.org"
    service: http://envoy-gateway-envoy-gateway-ee418b6e.envoy-gateway-system.svc.cluster.local:80

  - hostname: timourhomelab.org
    service: http://envoy-gateway-envoy-gateway-ee418b6e.envoy-gateway-system.svc.cluster.local:80

  - service: http_status:404
