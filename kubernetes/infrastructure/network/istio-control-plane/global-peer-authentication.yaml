# Global mTLS STRICT mode for ALL namespaces
# This enforces mutual TLS for ALL service-to-service communication
apiVersion: security.istio.io/v1beta1
kind: PeerAuthentication
metadata:
  name: default
  namespace: istio-system  # GLOBAL scope - applies to all namespaces!
  annotations:
    argocd.argoproj.io/sync-wave: "3"  # After Istio control plane
spec:
  mtls:
    mode: STRICT  # Force mTLS, reject plaintext traffic
