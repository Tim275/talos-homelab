apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ðŸš€ Sail Operator - Modern Istio Management (2025)
# ==================================================
# Replaces traditional Istio Base + IstioOperator completely
# Manages entire Istio lifecycle with single operator

namespace: istio-system

resources:
- namespace.yaml

commonAnnotations:
  argocd.argoproj.io/sync-wave: "1"

helmCharts:
  # ðŸš€ Sail Operator (Complete Istio Solution) - Sync Wave 1
  - name: sail-operator
    repo: https://istio-ecosystem.github.io/sail-operator
    version: 1.27.1
    releaseName: sail-operator
    namespace: istio-system
    includeCRDs: true   # âœ… ENABLE: Required for sailoperator.io/Istio and telemetry.istio.io/Telemetry CRDs
    valuesFile: sail-operator-values.yaml
