apiVersion: v1
kind: Namespace
metadata:
  name: istio-system
  labels:
    istio-injection: disabled
    app.kubernetes.io/managed-by: argocd
    app.kubernetes.io/part-of: timour-homelab
    # TALOS LINUX REQUIREMENT: Istio CNI needs privileged Pod Security Standards
    # This is required because CNI plugins need:
    # - NET_ADMIN/NET_RAW capabilities for iptables manipulation
    # - Host path volumes for CNI bin/config directories
    # - AppArmor unconfined profiles for network operations
    # ALTERNATIVE: Consider Cilium Service Mesh for better Talos integration
    pod-security.kubernetes.io/enforce: privileged
    pod-security.kubernetes.io/audit: privileged
    pod-security.kubernetes.io/warn: privileged
