# Istio CNI configuration for Ambient mode
global:
  istioNamespace: istio-system
  # Fix image registry - Istio images are NOT on Docker Hub
  hub: gcr.io/istio-release
  tag: 1.26.1

# CNI configuration
cni:
  # Enable ambient mode support
  ambient:
    enabled: true
  # Istio CNI will create iptables rules to redirect traffic
  redirect:
    mode: "REDIRECT"
  # Log level for CNI
  logLevel: info

# Resource limits
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 256Mi

# Repair controller to cleanup orphaned rules
repair:
  enabled: true
  resources:
    requests:
      cpu: 10m
      memory: 16Mi
    limits:
      cpu: 100m
      memory: 64Mi
