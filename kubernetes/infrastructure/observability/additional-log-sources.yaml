
# ENTERPRISE LOG SOURCES - Beyond Pods & Talos Nodes
# What Netflix, Google, Meta, and other hyperscalers collect

# 1. INGRESS & API GATEWAY LOGS
# Cilium L7 HTTP/gRPC logs - REQUEST/RESPONSE tracing
apiVersion: v1
kind: ConfigMap
metadata:
  name: cilium-l7-logs
  namespace: kube-system
data:
  note: |
    Cilium Hubble provides L7 visibility - should be collected:
    - HTTP request/response logs
    - gRPC service call tracing
    - DNS query logs
    - Network policy violations
    - Service mesh metrics

    Index: network-traffic-logs-YYYY.MM.DD

---
# 2. KUBERNETES AUDIT LOGS
# API Server audit events - WHO did WHAT, WHEN
apiVersion: v1
kind: ConfigMap
metadata:
  name: k8s-audit-logs
  namespace: kube-system
data:
  note: |
    Critical security logs from kube-apiserver:
    - kubectl commands executed
    - Service account usage
    - RBAC policy violations
    - Secret access attempts
    - Pod creation/deletion events

    Index: security-audit-logs-YYYY.MM.DD
    Retention: 1+ years (compliance)

---
# 3. ARGOCD DEPLOYMENT & GITOPS LOGS
# Application deployment events and Git sync status
apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-gitops-logs
  namespace: argocd
data:
  note: |
    GitOps operational intelligence:
    - Application sync events (success/failure)
    - Git commit to deployment correlation
    - Helm release status changes
    - Configuration drift detection
    - Rollback events and reasons

    Index: gitops-deployment-logs-YYYY.MM.DD

---
# 4. STORAGE & PERSISTENCE LOGS
# Rook-Ceph, PV provisioning, backup events
apiVersion: v1
kind: ConfigMap
metadata:
  name: storage-operations-logs
  namespace: rook-ceph
data:
  note: |
    Storage layer observability:
    - PV provisioning success/failure
    - Ceph OSD failures and recovery
    - Backup/restore operations (Velero)
    - Disk space warnings
    - Data corruption detection

    Index: storage-operations-logs-YYYY.MM.DD

---
# 5. PROMETHEUS ALERT EVENTS
# Alert firing/resolving with context
apiVersion: v1
kind: ConfigMap
metadata:
  name: prometheus-alert-logs
  namespace: monitoring
data:
  note: |
    Alert lifecycle tracking:
    - Alert firing events with full context
    - Alert resolution events
    - Escalation chain execution
    - Acknowledgment events
    - Alert fatigue metrics

    Index: alert-events-logs-YYYY.MM.DD

---
# 6. CERTIFICATE & PKI LOGS
# cert-manager certificate lifecycle
apiVersion: v1
kind: ConfigMap
metadata:
  name: certificate-lifecycle-logs
  namespace: cert-manager
data:
  note: |
    Certificate management events:
    - Certificate issuance/renewal
    - ACME challenge success/failure
    - Certificate expiration warnings
    - PKI chain validation errors
    - DNS-01/HTTP-01 challenge logs

    Index: certificate-logs-YYYY.MM.DD

---
# 7. NETWORK POLICY VIOLATIONS
# Security-focused network events
apiVersion: v1
kind: ConfigMap
metadata:
  name: network-security-logs
  namespace: kube-system
data:
  note: |
    Network security events:
    - Network policy violations (blocked connections)
    - Unusual traffic patterns
    - East-west traffic anomalies
    - External egress attempts
    - Service mesh authorization failures

    Index: network-security-logs-YYYY.MM.DD
