# Elasticsearch S3 Snapshot Bucket
# Uses Ceph RGW Object Storage for Elasticsearch snapshots
---
apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: elasticsearch-snapshots
  namespace: elastic-system
  labels:
    app.kubernetes.io/name: elasticsearch
    app.kubernetes.io/component: backup
    app.kubernetes.io/part-of: elasticsearch-cluster
spec:
  # Bucket naming
  generateBucketName: elasticsearch-snapshots

  # Storage class for Ceph RGW
  storageClassName: rook-ceph-bucket

  # Bucket will be created automatically by Rook
  # Access credentials will be generated in:
  # - ConfigMap: elasticsearch-snapshots (BUCKET_HOST, BUCKET_NAME)
  # - Secret: elasticsearch-snapshots (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
