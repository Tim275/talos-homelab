# üîç OBSERVABILITY DOMAIN - SERVICE CONTROL LAYER
# ================================================
# Level 3: Service Control - Comment/Uncomment individual observability services
# Parent: observability-app.yaml ‚Üí This kustomization ‚Üí Child applications

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: elastic-system

# üåä Sync Wave 5: Observability Stack
commonAnnotations:
  argocd.argoproj.io/sync-wave: "5"

resources:
  # üîç OBSERVABILITY SERVICES - APP-OF-APPS PATTERN
  # ================================================

  # Core Logging Stack
  - elasticsearch/application.yaml    # ‚úÖ Elasticsearch cluster (ECK)
  - kibana/application.yaml          # ‚úÖ Kibana UI
  - vector/application.yaml          # ‚úÖ Vector log collector

  # Additional Observability (Optional)
  # - opentelemetry/application.yaml   # ‚ùå DISABLED: OpenTelemetry collector
  # - fluent-bit/application.yaml      # ‚ùå DISABLED: Alternative log collector
  # - fluentd/application.yaml         # ‚ùå DISABLED: Alternative log processor

labels:
  - pairs:
      app.kubernetes.io/part-of: observability-stack
      infrastructure.domain: observability
      team: timour
