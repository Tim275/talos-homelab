apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# üéØ TRUE KUSTOMIZE CONTROL - COMMENT/UNCOMMENT = ENABLE/DISABLE!
# ===============================================================
# This is what you wanted for 35 hours! Pure kustomize control!

commonLabels:
  app.kubernetes.io/managed-by: argocd
  infrastructure.domain: observability

# üåä Sync Wave 6: Observability (After Monitoring)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "6"

resources:
  # üéØ CHILD APPLICATIONS - APPEAR IN ARGOCD UI
  # ===========================================
  - elasticsearch/application.yaml
  - kibana/application.yaml
  - opentelemetry/application.yaml
  - vector/application.yaml

  # üéØ COMPONENTS - KUSTOMIZE CONTROL
  # ==================================
  # üéØ OBSERVABILITY COMPONENTS - COMMENT/UNCOMMENT TO CONTROL!
  # ==========================================================

  # ‚úÖ ENABLED OBSERVABILITY COMPONENTS
  - vector/            # ‚úÖ Log collection and processing
  - elasticsearch/     # ‚úÖ Search and analytics engine
  - kibana/           # ‚úÖ Data visualization platform
  - opentelemetry/      # ‚úÖ Tracing and telemetry

  # ‚ùå DISABLED OBSERVABILITY COMPONENTS (comment out to disable)
  # - fluentd/          # ‚ùå DISABLED - Not wanted
  # - fluent-bit/       # ‚ùå DISABLED - Not wanted
  # - loki/             # ‚ùå DISABLED - Using elasticsearch instead
  # - layers/           # ‚ùå DISABLED - Not needed