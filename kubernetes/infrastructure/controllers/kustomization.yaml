apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸ›ï¸ CONTROLLERS DOMAIN - TIER-3 COMPONENT CONTROL
# ===============================================
# Comment/Uncomment components to enable/disable controllers

commonLabels:
  app.kubernetes.io/managed-by: argocd
  infrastructure.domain: controllers

# ğŸŒŠ Sync Wave 2: Controllers (After Network)
commonAnnotations:
  argocd.argoproj.io/sync-wave: "2"

resources:
  # ğŸ” Core Controllers (Required)
  - sealed-secrets/         # âœ… Secret management
  - cert-manager/          # âœ… Certificate automation
  - argo-rollouts/         # âœ… Progressive delivery

  # ğŸ—„ï¸ Optional Controllers (Toggle with #)
  # - cloudnative-pg/      # âŒ DISABLED - PostgreSQL operator not needed yet
  # - cluster-autoscaler/  # âŒ DISABLED - Fixed cluster size
  # - external-secrets/    # âŒ DISABLED - Using sealed-secrets instead