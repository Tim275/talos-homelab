# Istio Control Plane configuration (istiod)
global:
  istioNamespace: istio-system
  meshConfig:
    # Enabling distributed traces
    enableTracing: true
    extensionProviders:
    - name: opentelemetry
      opentelemetry:
        port: 4317
        service: tempo-distributor.tempo.svc.cluster.local
        resource_detectors:
          environment: {}

# Resource configuration for istiod
pilot:
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  # Environment variables
  env:
    EXTERNAL_ISTIOD: false
    PILOT_ENABLE_AMBIENT: true

# Revision configuration
revision: ""

# Telemetry configuration
telemetry:
  v2:
    enabled: true

# Enable automatic namespace labeling
sidecarInjectorWebhook:
  enableNamespacesByDefault: false