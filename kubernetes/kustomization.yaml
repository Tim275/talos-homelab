apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ğŸš€ ENTERPRISE TIER-0 NON PLUS ULTRA BOOTSTRAP!
# ===============================================
# ULTIMATE NETFLIX/GOOGLE/META/AMAZON PATTERN!
#
# ğŸ’¡ ONE COMMAND TO RULE THEM ALL:
# kubectl apply -k kubernetes/
#
# ğŸ¯ GRANULAR CONTROL EVERYWHERE:
# - Comment/Uncomment ANY layer or component
# - TRUE Kustomize control at every level
# - No ApplicationSets - Pure Individual Applications
# - Enterprise-grade Infrastructure as Code

namespace: argocd

# ğŸ·ï¸ Ultimate Enterprise Labels
commonLabels:
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/part-of: timour-homelab
  enterprise.tier: tier0
  enterprise.pattern: non-plus-ultra
  control.type: pure-kustomize
  team: timour

# ğŸ“Š Ultimate Enterprise Annotations
commonAnnotations:
  enterprise.architecture: "tier0-non-plus-ultra"
  gitops.pattern: "individual-applications"
  bootstrap.method: "single-command"

resources:
  # ğŸš€ INFRASTRUCTURE LAYER (Wave 0-5)
  # ==================================
  # Contains: Network, Controllers, Storage, Monitoring, Observability
  # Control: kubernetes/infrastructure/kustomization.yaml
  - infrastructure/tier0-infrastructure.yaml

  # ğŸ—ï¸ PLATFORM LAYER (Wave 10-15)
  # ===============================
  # Contains: Data services, Messaging, Developer tools
  # Control: kubernetes/platform/kustomization.yaml
  # - platform/kustomization.yaml        # âŒ DISABLED - Enable when needed

  # ğŸ¯ APPLICATIONS LAYER (Wave 20+)
  # ================================
  # Contains: Business applications (dev/prod environments)
  # Control: kubernetes/apps/kustomization.yaml
  # - apps/kustomization.yaml            # âŒ DISABLED - Enable when needed

# ğŸ® BOOTSTRAP STRATEGY
# ====================
# 1. Start with infrastructure only (network, controllers)
# 2. Add platform services when infrastructure is stable
# 3. Deploy applications last
# 4. Use comments to enable/disable entire layers or individual components

# ğŸ”¥ ULTIMATE BENEFITS:
# - ONE FILE controls EVERYTHING
# - Comment/Uncomment for instant control
# - Bootstrap from scratch: kubectl apply -k kubernetes/
# - Environment-specific control at every level
# - TRUE Enterprise Tier-0 Non Plus Ultra!